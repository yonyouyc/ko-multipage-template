/** 
 * tinper-neoui-grid v3.1.28
 * grid
 * author : yonyou FED
 * homepage : https://github.com/iuap-design/tinper-neoui-grid#readme
 * bugs : https://github.com/iuap-design/tinper-neoui-grid/issues
 **/ 
!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var o=i(1),n=i(7),s=i(9),r=$.fn.grid;$.fn.grid=function(t){var e=$(this).data("gridComp");return e||$(this).data("gridComp",e=new s.gridComp(this,t)),e},$.fn.grid.gridComp=s.gridComp,$.fn.grid.gridCompColumn=n.column,$.fn.grid.dataSource=o.dataSource,$.fn.grid.noConflict=function(){return $.fn.grid=r,this}},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.dataSource=void 0;var n=i(2),s=i(3),r=i(6),d=function t(e,i){o(this,t),this.init(e,i),this.sortRows()},a=d.prototype;a.init=n.init,a.sortRows=n.sortRows,a.basicSortRows=n.basicSortRows,a.treeSortRows=n.treeSortRows,a.getSumValue=n.getSumValue,a.basicSortRows=s.re_basicSortRows,a.treeSortRows=r.re_treeSortRows,a.pushChildRows=r.pushChildRows,e.dataSource=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){this.defaults={},this.gridComp=e,this.options=$.extend({},this.defaults,t),this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array},o=function(t,e){this.gridComp.options.showTree?this.treeSortRows(t,e):this.basicSortRows(t,e),this.gridComp.eidtRowIndex=-1},n=function(t,e){var i=this,o="";t&&(o=this.gridComp.getColumnByField(t).options.dataType),this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,i.rows.push(e)})},s=function(t,e){this.basicSortRows(t,e)},r=function(t,e,i){var o=null;if(e.options.sumCol&&$.each(this.rows,function(n){var s=$(this.value).attr(t);"Int"==e.options.dataType?(s=i.getInt(s,0),o+=parseInt(s)):(s=i.getFloat(s,0),o=i.accAdd(o,parseFloat(s)))}),"Float"==e.options.dataType&&e.options.precision){var n={};n.value=o,n.precision=e.options.precision,o=i.DicimalFormater(n)}return null!=o&&void 0!=o&&"null"!=o&&"undefined"!=o?o+"":""};e.init=i,e.sortRows=o,e.basicSortRows=n,e.treeSortRows=s,e.getSumValue=r},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.re_basicSortRows=exports.sortRowsByPrio=exports.re_deleteOneRowTree=exports.canSortable=exports.sort_initGridEventFun=exports.sort_initEventFun=void 0;var _gridCompEvent=__webpack_require__(4),sort_initEventFun=function(){var t=this;$("#"+this.options.id).on("mouseup",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){if(t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.mouseDownX==t.mouseUpX&&t.mouseDownY==t.mouseUpY){t.columnClickX=e.clientX,t.columnClickY=e.clientY;var i=$(e.target).closest("th")[0];$(e.target).hasClass("u-grid-header-columnmenu")||t.canSortable(e,i)}}else $(e.target).closest("#"+t.options.id+"_content").length>0})},sort_initGridEventFun=function(){},canSortable=function(t,e){var i=this,o=$(e),n=o.attr("field"),s=this.getColumnAttr("sortable",n);if(s){if(t.ctrlKey){var r=[];$(".u-grid-header-sort-priority").each(function(t,e){var i,o=$(e),n=parseInt(o.text()),s=o.closest("th").attr("field");o.parent().hasClass("uf-arrow-up")?i="asc":o.parent().hasClass("uf-arrow-down")&&(i="desc"),r[n-1]={field:s,sortType:i}});var d;if((d=o.find(".uf-arrow-up")).length>0){var a=parseInt(d.find(".u-grid-header-sort-priority").text());r[a-1].sortType="desc",d.removeClass("uf-arrow-up").addClass("uf-arrow-down")}else if((d=o.find(".uf-arrow-down")).length>0){for(var a=parseInt(d.find(".u-grid-header-sort-priority").text()),l=a;l<r.length;l++){var h=$("[field="+r[l].field+"]").find(".u-grid-header-sort-priority");h.text(parseInt(h.text())-1)}r.splice(a-1,1),d.remove()}else r.push({field:n,sortType:"asc"}),o.first().first().append('<span class="uf uf-arrow-up u-grid-header-sort-span" ></span>');this.dataSourceObj.sortRowsByPrio(r)}else $(".uf-arrow-up").parent().parent().parent()[0]==e?($(".uf-arrow-up").remove(),$(e.firstChild.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="uf uf-arrow-down u-grid-header-sort-span" ></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(n,"asc"):this.dataSourceObj.sortRows(n,"asc")):$(".uf-arrow-down").parent().parent().parent()[0]==e?($(".uf-arrow-down").remove(),"function"==typeof this.options.onSortFun?this.options.onSortFun():this.dataSourceObj.sortRows()):($(".uf-arrow-up").remove(),$(".uf-arrow-down").remove(),$(e.firstChild.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="uf uf-arrow-up u-grid-header-sort-span"></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(n,"desc"):this.dataSourceObj.sortRows(n,"desc"));i.repairContent(),i.afterGridDivsCreate()}},re_deleteOneRowTree=function(){this.options.showTree&&this.dataSourceObj.sortRows()},sortRowsByPrio=function sortRowsByPrio(prioArray,cancelSort){var oThis=this;cancelSort&&(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,oThis.rows.push(e)}));var evalStr=function t(e){return e==prioArray.length-1?"by(prioArray["+e+"].field, prioArray["+e+"].sortType)":"by(prioArray["+e+"].field, prioArray["+e+"].sortType,"+t(e+1)+")"},by=function(t,e,i){arguments.callee;return function(o,n){var s=$(o.value).attr(t),r=$(n.value).attr(t),d=oThis.gridComp.getColumnByField(t).options.dataType;if("Float"==d)return s=parseFloat(s),r=parseFloat(r),isNaN(s)?1:isNaN(r)?-1:s==r&&i?i():"asc"==e?s-r:r-s;if("Int"==d)return s=parseInt(s),r=parseInt(r),isNaN(s)?1:isNaN(r)?-1:s==r&&i?i():"asc"==e?s-r:r-s;s=oThis.gridComp.getString(s,""),r=oThis.gridComp.getString(r,"");try{var a=s.localeCompare(r);return 0===a&&i?i():0===a?0:"asc"==e?a:-a}catch(t){return 0}}};this.rows.sort(eval(evalStr(0)))},re_basicSortRows=function(t,e){var i=this,o="";t&&(o=this.gridComp.getColumnByField(t).options.dataType),"asc"==e?this.rows.sort(function(e,n){var s=$(n.value).attr(t),r=$(e.value).attr(t);if("Float"==o)return s=parseFloat(s),r=parseFloat(r),isNaN(s)?1:isNaN(r)?-1:s-r;if("Int"==o)return s=parseInt(s),r=parseInt(r),isNaN(s)?1:isNaN(r)?-1:s-r;s=i.gridComp.getString(s,""),r=i.gridComp.getString(r,"");try{return s.localeCompare(r)}catch(t){return 0}}):"desc"==e?this.rows.sort(function(e,n){var s=$(e.value).attr(t),r=$(n.value).attr(t);if("Float"==o)return s=parseFloat(s),r=parseFloat(r),isNaN(s)?1:isNaN(r)?-1:s-r;if("Int"==o)return s=parseInt(s),r=parseInt(r),isNaN(s)?1:isNaN(r)?-1:s-r;s=i.gridComp.getString(s,""),r=i.gridComp.getString(r,"");try{return s.localeCompare(r)}catch(t){return 0}}):(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,i.rows.push(e)}))};exports.sort_initEventFun=sort_initEventFun,exports.sort_initGridEventFun=sort_initGridEventFun,exports.canSortable=canSortable,exports.re_deleteOneRowTree=re_deleteOneRowTree,exports.sortRowsByPrio=sortRowsByPrio,exports.re_basicSortRows=re_basicSortRows},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initContentDivEventFun=e.initGridEventFun=e.initEventFun=void 0;var o=i(5),n=function(){var t=this;$("#"+this.options.id).on("mousedown",function(e){$(e.target).closest("#"+t.options.id+"_header").length>0?(t.mouseDownX=e.clientX,t.mouseDownY=e.clientY):$(e.target).closest("#"+t.options.id+"_content").length>0})},s=function(){var t=this;this.initContentDivEventFun(),$("#"+this.options.id+"_header_multi_input").on("click",function(e){this.hasChecked?(t.setAllRowUnSelect(),this.hasChecked=!1):(t.setAllRowSelect(),this.hasChecked=!0)})},r=function(){var t=this;$("#"+t.options.id+"_content .u-grid-content-left").on("click",function(e){var i=$(e.target).closest(".u-grid-checkbox-outline");if(i.length>0){var o=$(i.parent()),n=$(".u-grid-content-multiSelect",o.parent()).index(o);i.hasClass("is-checked")?t.setRowUnselect(n):t.setRowSelect(n)}}),$("#"+this.options.id+"_content_div").on("scroll",function(e){t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop,"right"==t.options.fixedFloat?$("#"+t.options.id+"_header_table").css("left",t.leftW-t.scrollLeft+"px"):$("#"+t.options.id+"_header_table").css("left",t.leftW-t.scrollLeft+t.fixedWidth+"px"),$("#"+t.options.id+"_noRowsShow").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_edit_form").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_content_multiSelect").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_numCol").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_fixed_div").css("top",-t.scrollTop+"px"),o.gridBrowser.isIE10||o.gridBrowser.isIPAD||t.editClose()}),$("#"+this.options.id+"_content_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content_fixed_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content").on("mousemove",function(e){var i=$(e.target).closest("tr"),o=$(e.target).closest("div"),n=-1;i.length>0?n=$("tr",i.parent()).index(i):o.length>0&&(o.hasClass("u-grid-content-multiSelect")||o.hasClass("u-grid-content-num"))&&(n=$("div",o.parent()).index(o)),t.trHoverFun(n)}),$("#"+this.options.id+"_content").on("mouseout",function(e){if($("#"+t.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+t.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),t.options.multiSelect&&$("#"+t.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),t.options.showNumCol&&$("#"+t.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg"),"function"==typeof t.options.onContentOut){var i={};i.gridObj=t;var o=$(e.target).closest("tr");if(o.length>0&&!o.is(".u-grid-content-sum-row")){var n=$('tr[role="row"]',o.parent()).index(o);i.rowObj=t.dataSourceObj.rows[n],i.rowIndex=n}t.options.onContentOut(i)}})};e.initEventFun=n,e.initGridEventFun=s,e.initContentDivEventFun=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o={},n=navigator.userAgent,s=n.toLowerCase();if((i=s.match(/msie ([\d.]+)/))&&(o.isIE=!0),o.isIE){var r=document.documentMode;null==r||(8==r?o.isIE8=!0:9==r?o.isIE9=!0:10==r&&(o.isIE10=!0))}(s.indexOf("Android")>-1||s.indexOf("android")>-1||s.indexOf("Adr")>-1||s.indexOf("adr")>-1)&&(o.isAndroid=!0),o.isAndroid&&(window.screen.width>=768&&window.screen.width<1024&&(o.isAndroidPAD=!0),window.screen.width<=768&&(o.isAndroidPhone=!0)),s.match(/iphone/i)&&(o.isIOS=!0,o.isIphone=!0),s.match(/ipad/i)&&(o.isIOS=!0,o.isIPAD=!0),(o.isIphone||o.isAndroidPhone)&&(o.isMobile=!0),e.gridBrowser=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){return e.showTree&&(t.sortable=!1),t},o=function(){this.options.showTree&&(this.options.showNumCol=!1)},n=function(t){var e=this,i=$(t.target),o=i.closest("td");if(o.length>0){var n=o.parent(),s=this.getTrIndex(n),r=e.dataSourceObj.rows[s];if(r){var d=e.getChildRowIndex(r);if(i.hasClass("uf-reduce-s-o")||i.hasClass("uf-add-s-o")){var a=o.find(".uf-reduce-s-o"),l=o.find(".uf-add-s-o");if(a.length>0){if(a.removeClass("uf-reduce-s-o").addClass("uf-add-s-o"),d.length>0){var h=e.getAllChildRowIndex(r);$.each(h,function(){var t=$('tr[role="row"]:eq('+parseInt(this)+")",n.parent());t.css("display","none"),$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","none"),$(".uf-reduce-s-o",t).removeClass("uf-reduce-s-o").addClass("uf-add-s-o")})}"form"==this.options.editType&&($("#"+this.options.id+"_multiSelect_edit").remove(null,!0),$("#"+this.options.id+"_numCol_edit").remove(null,!0),$("#"+this.options.id+"_edit_tr").remove(null,!0),$("#"+this.options.id+"_edit_tr1").remove(null,!0))}else l.length>0&&(l.removeClass("uf-add-s-o").addClass("uf-reduce-s-o"),d.length>0&&$.each(d,function(){var t=$('tr[role="row"]:eq('+parseInt(this)+")",n.parent());t.css("display","");$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")")[0];$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","")}));this.resetLeftHeight()}}}},s=function(t,e,i){var o,n=this,s=this.dataSourceObj.rows.length;if(this.options.showTree){this.hasParent=!1,this.hasChildF=!1;var r=this.options.keyField,d=this.options.parentKeyField,a=this.getString($(t).attr(r),"");i.keyValue=a;var l=this.getString($(t).attr(d),"");i.parentKeyValue=l;var h;if($.each(this.dataSourceObj.rows,function(t){var o=this.value,s=n.getString($(o).attr(r),""),u=n.getString($(o).attr(d),"");if(s==l){n.hasParent=!0,n.addRowParentIndex=t,h=n.getAllChildRow(this).length;var c=this.level;if(i.level=c+1,e=n.addRowParentIndex+h+1,!n.options.needTreeSort)return!1}if(u==a&&(n.hasChildF=!0),n.hasParent&&n.hasChildF)return!1}),this.hasParent||(i.level=0,e!=s&&(e=s)),this.hasParent){var u=$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(n.addRowParentIndex);if(h>0){var c=$(".uf-add-s-o",u);c.length>0||(o="block")}else{this.options.autoExpand&&(o="block");var p=$("div:eq(0)",u),c=$(".uf-add-s-o",u),f=$(".uf-reduce-s-o",u);if(this.options.autoExpand)var m='<span class="uf u-grid-content-tree-span uf-reduce-s-o"></span>';else var m='<span class="uf u-grid-content-tree-span uf-add-s-o"></span>';if(p.length>0&&0==c.length&&0==f.length){p[0].insertAdjacentHTML("afterBegin",m);var w=parseInt(p[0].style.left);s=w-16,(s>0||0==s)&&(p[0].style.left=s+"px")}c.length>0&&c.removeClass("uf-add-s-o").addClass("uf-reduce-s-o")}}}return{index:e,displayFlag:o}},r=function(t){if(this.hasChildF)this.dataSourceObj.sortRows(),this.repairContent();else{if(this.hasParent){var e=this.dataSourceObj.rows[this.addRowParentIndex];e.hasChild=!0,e.childRow.push(t),e.childRowIndex.push(t.valueIndex),t.parentRow=e,t.parentRowIndex=this.addRowParentIndex}t.hasChild=!1,t.childRow=new Array,t.childRowIndex=new Array}},d=function(t,e,i,o){var n=this,s=this.options.keyField,r=this.options.parentKeyField;if(this.options.showTree&&(e==s||e==r)){var d=!1,a=!1;if($.each(this.dataSourceObj.rows,function(t){var o=this.value,l=n.getString($(o).attr(s),""),h=n.getString($(o).attr(r),"");e==s&&i==h&&(a=!0),e==r&&i==l&&(d=!0)}),a||d){var l=$(this.dataSourceObj.rows[t].value);this.deleteOneRow(t),this.addOneRow(l[0])}}return!this.options.showTree||e!=s&&e!=r||!a&&!d||(t=this.getRowIndexByValue(e,i)),t},a=function(t){return t.allChildRow=new Array,this.getAllChildRowFun(t,t.allChildRow),t.allChildRow},l=function(t){var e=[];return t.childRow&&t.childRow.length>0&&$.each(t.childRow,function(){e.push(this.valueIndex)}),e},h=function(t){return t.allChildRowIndex=new Array,this.getAllChildRowIndexFun(t,t.allChildRowIndex),t.allChildRowIndex},u=function(t,e){var i=this;t.childRow.length>0&&(Array.prototype.push.apply(e,t.childRow),$.each(t.childRow,function(){i.getAllChildRowFun(this,e)}))},c=function(t,e){var i=this;t.childRow.length>0&&(Array.prototype.push.apply(e,this.getChildRowIndex(t)),$.each(t.childRow,function(){i.getAllChildRowIndexFun(this,e)}))},p=function(t){var e=this.getRowIndexByValue(this.options.keyField,t);this.expandNodeByIndex(e)},f=function(t){for(var e,i=this.getRowByIndex(t),o=!1,n=new Array,s=i;!o;){if(""==s.parentKeyValue){o=!0;break}e=s.parentRowIndex,s=s.parentRow;var r=$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(e),d=$(".uf-add-s-o",r);if(!(d.length>0)){o=!0;break}n.push(e)}if(n.length>0)for(var a=n.length-1;a>-1;a--){var l=n[a],r=$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(l),d=$(".uf-add-s-o",r);d.click()}var h=$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(t),d=$(".uf-add-s-o",h),u=$(".u-grid-content-td-div",h);d.length>0?d.click():u.click()},m=function(t,e){var i=this,o=new Array;if(this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.options.values){$.each(this.options.values,function(t){var e={},o=$(this),n=i.gridComp.options.keyField,s=i.gridComp.options.parentKeyField,r=i.gridComp.getString(o.attr(n),""),d=i.gridComp.getString(o.attr(s),"");e.valueIndex=t,e.value=this,e.keyValue=r,e.parentKeyValue=d,""==d?i.nothasParentRows.push(e):i.hasParentRows.push(e),i.rows.push(e)}),$.each(this.hasParentRows,function(t){var e=this.parentKeyValue,n=!1;$.each(i.rows,function(){this.keyValue==e&&(n=!0)}),n||(o.push(this),i.nothasParentRows.push(this))}),$.each(o,function(){var t=i.hasParentRows.indexOf(this);i.hasParentRows.splice(t,1)}),i.rows=new Array;var n=0;$.each(this.nothasParentRows,function(t){this.level=n,i.rows.push(this),i.pushChildRows(this,n)})}},w=function(t,e){var i=t.keyValue,o=this,n=parseInt(e)+1,s=!1,r=new Array,d=new Array,a=new Array;$.each(this.hasParentRows,function(t){if(this&&this.parentKeyValue==i){s=!0,this.level=n,o.rows.push(this),r.push(this);var e=parseInt(o.rows.length-1);d.push(e),a.push(this),o.pushChildRows(this,n)}}),$.each(a,function(){var t=o.hasParentRows.indexOf(this);o.hasParentRows.splice(t,1)}),t.hasChild=s,t.childRow=r,t.childRowIndex=d};e.re_initTree=i,e.re_initOptionsTree=o,e.re_clickFunTree=n,e.re_addOneRowTree=s,e.re_addOneRowTreeHasChildF=r,e.re_updateValueAtTree=d,e.getAllChildRow=a,e.re_getChildRowIndex=l,e.getAllChildRowIndex=h,e.getAllChildRowFun=u,e.getAllChildRowIndexFun=c,e.expandNode=p,e.expandNodeByIndex=f,e.re_treeSortRows=m,e.pushChildRows=w},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.column=void 0;var n=i(8),s=i(6),r=function t(e,i){o(this,t),this.init(e,i)},d=r.prototype;d.init=n.init,d.initTree=n.initTree,d.getBooleanOptions=n.getBooleanOptions,d.initTree=s.re_initTree,e.column=r},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var init=function init(options,gridComp){var gridOptions=gridComp.options;this.gridGetBoolean=gridComp.getBoolean,this.defaults={width:"200",sortable:!0,canDrag:!0,fixed:!1,visible:!0,canVisible:!0,sumCol:!1,editable:!0,editFormShow:!0,autoExpand:!1,editType:"text",dataType:"String",format:"YYYY-MM-DD hh:mm:ss",headerLevel:1,hiddenLevel:1};var gridDefault={sortable:gridOptions.sortable,canDrag:gridOptions.canDrag,width:gridOptions.columnWidth};"Date"==options.dataType&&(this.defaults.format="YYYY-MM-DD"),options=this.initTree(options,gridOptions),this.options=$.extend({},this.defaults,gridDefault,options),this.getBooleanOptions();try{"string"==typeof this.options.renderType&&(this.options.renderType=eval(this.options.renderType))}catch(t){}try{"string"==typeof this.options.editType&&(this.options.editType=eval(this.options.editType))}catch(t){}this.options.width=this.options.width,this.firstColumn=!1},initTree=function(t){return t},getBooleanOptions=function(){this.options.sortable=this.gridGetBoolean(this.options.sortable),this.options.canDrag=this.gridGetBoolean(this.options.canDrag),this.options.fixed=this.gridGetBoolean(this.options.fixed),this.options.visible=this.gridGetBoolean(this.options.visible),this.options.canVisible=this.gridGetBoolean(this.options.canVisible),this.options.sumCol=this.gridGetBoolean(this.options.sumCol),this.options.editable=this.gridGetBoolean(this.options.editable),this.options.editFormShow=this.gridGetBoolean(this.options.editFormShow),this.options.autoExpand=this.gridGetBoolean(this.options.autoExpand)};exports.init=init,exports.initTree=initTree,exports.getBooleanOptions=getBooleanOptions},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.gridComp=void 0;var n=i(10),s=i(11),r=i(4),d=i(12),a=i(13),l=i(15),h=i(16),u=i(17),c=i(18),p=i(19),f=i(20),m=i(21),w=i(22),g=i(23),v=i(14),C=i(24),_=i(25),y=i(26),b=i(27),x=i(28),R=i(29),$=i(3),S=i(30),F=i(31),T=i(32),I=i(6),O=function t(e,i){o(this,t),this.init(e,i),this.initGrid()};O.prototype.formatWidth=m.formatWidth,O.prototype.swapEle=m.swapEle,O.prototype.getString=m.getString,O.prototype.getInt=m.getInt,O.prototype.getFloat=m.getFloat,O.prototype.cloneObj=m.cloneObj,O.prototype.DicimalFormater=m.DicimalFormater,O.prototype.accAdd=m.accAdd,O.prototype.getTrIndex=m.getTrIndex,O.prototype.getDataTableRowIdByRow=m.getDataTableRowIdByRow,O.prototype.updateLastRowFlag=f.updateLastRowFlag,O.prototype.updateNumColLastRowFlag=f.updateNumColLastRowFlag,O.prototype.columnsVisibleFun=f.columnsVisibleFun,O.prototype.resetThVariable=f.resetThVariable,O.prototype.resetThVariableDrag=f.resetThVariableDrag,O.prototype.resetThVariableHeaderLevel=f.resetThVariableHeaderLevel,O.prototype.headerFirstClassFun=f.headerFirstClassFun,O.prototype.setRenderType=f.setRenderType,O.prototype.setShowHeader=f.setShowHeader,O.prototype.setColumnPrecision=f.setColumnPrecision,O.prototype.setMultiSelect=f.setMultiSelect,O.prototype.setShowNumCol=f.setShowNumCol,O.prototype.isGridShow=f.isGridShow,O.prototype.getBoolean=f.getBoolean,O.prototype.isDblEvent=p.isDblEvent,O.prototype.dblClickFun=p.dblClickFun,O.prototype.clickFun=p.clickFun,O.prototype.clickFunTree=p.clickFunTree,O.prototype.clickFunEdit=p.clickFunEdit,O.prototype.createDivs=n.createDivs,O.prototype.repaintDivs=n.repaintDivs,O.prototype.createGridDivs=n.createGridDivs,O.prototype.repaintGridDivs=n.repaintGridDivs,O.prototype.createColumnMenu=n.createColumnMenu,O.prototype.createHeader=n.createHeader,O.prototype.createHeaderTable=n.createHeaderTable,O.prototype.createHeaderTableFixed=n.createHeaderTableFixed,O.prototype.createHeaderDrag=n.createHeaderDrag,O.prototype.createColgroup=n.createColgroup,O.prototype.createThead=n.createThead,O.prototype.createContent=n.createContent,O.prototype.createContentSumRow=n.createContentSumRow,O.prototype.createContentLeft=n.createContentLeft,O.prototype.createContentLeftMultiSelectRow=n.createContentLeftMultiSelectRow,O.prototype.createContentLeftNumColRow=n.createContentLeftNumColRow,O.prototype.createContentTable=n.createContentTable,O.prototype.createContentTableFixed=n.createContentTableFixed,O.prototype.createNoRowsDiv=n.createNoRowsDiv,O.prototype.createContentRows=n.createContentRows,O.prototype.createContentRowsSumRow=n.createContentRowsSumRow,O.prototype.createContentOneRow=n.createContentOneRow,O.prototype.createContentOneRowForIE=n.createContentOneRowForIE,O.prototype.repaintRow=n.repaintRow,O.prototype.createContentOneRowTd=n.createContentOneRowTd,O.prototype.createContentOneRowTdForIE=n.createContentOneRowTdForIE,O.prototype.repairContent=n.repairContent,O.prototype.trHoverFun=s.trHoverFun,O.prototype.setIntervalFun=s.setIntervalFun,O.prototype.editorRowChangeFun=s.editorRowChangeFun,O.prototype.afterGridDivsCreate=s.afterGridDivsCreate,O.prototype.countRowHeight=s.countRowHeight,O.prototype.noRowsShowFun=s.noRowsShowFun,O.prototype.afterRepaintGrid=s.afterRepaintGrid,O.prototype.resetScrollLeft=s.resetScrollLeft,O.prototype.hideEditMenu=s.hideEditMenu,O.prototype.resetLeftHeight=s.resetLeftHeight,O.prototype.initEventFun=r.initEventFun,O.prototype.initGridEventFun=r.initGridEventFun,O.prototype.initContentDivEventFun=r.initContentDivEventFun,O.prototype.getColumnAttr=d.getColumnAttr,O.prototype.getColumnByField=d.getColumnByField,O.prototype.getIndexOfColumn=d.getIndexOfColumn,O.prototype.getVisibleIndexOfColumn=d.getVisibleIndexOfColumn,O.prototype.getNextVisibleInidexOfColumn=d.getNextVisibleInidexOfColumn,O.prototype.getSelectRows=d.getSelectRows,O.prototype.getSelectRowsIndex=d.getSelectRowsIndex,O.prototype.getFocusRow=d.getFocusRow,O.prototype.getFocusRowIndex=d.getFocusRowIndex,O.prototype.getAllRows=d.getAllRows,O.prototype.getRowByIndex=d.getRowByIndex,O.prototype.getRowIndexByValue=d.getRowIndexByValue,O.prototype.getChildRowIndex=d.getChildRowIndex,O.prototype.getColumnByVisibleIndex=d.getColumnByVisibleIndex,O.prototype.init=a.init,O.prototype.getBooleanOptions=a.getBooleanOptions,O.prototype.initDefault=a.initDefault,O.prototype.initGrid=a.initGrid,O.prototype.destroySelf=a.destroySelf,O.prototype.initOptions=a.initOptions,O.prototype.initOptionsTree=a.initOptionsTree,O.prototype.initVariable=a.initVariable,O.prototype.initDataSourceVariable=a.initDataSourceVariable,O.prototype.initWidthVariable=a.initWidthVariable,O.prototype.initGridCompColumn=a.initGridCompColumn,O.prototype.initGridCompColumnVar=a.initGridCompColumnVar,O.prototype.initGridCompColumnFun=a.initGridCompColumnFun,O.prototype.initGridCompColumnColumnMenuFun=a.initGridCompColumnColumnMenuFun,O.prototype.initGridCompColumnHeaderLevelFun=a.initGridCompColumnHeaderLevelFun,O.prototype.initGridCompColumnLoacl=a.initGridCompColumnLoacl,O.prototype.initGridHiddenLevelColumn=a.initGridHiddenLevelColumn,O.prototype.initGridCompFixedColumn=a.initGridCompFixedColumn,O.prototype.setRequired=a.setRequired,O.prototype.initDataSource=a.initDataSource,O.prototype.addOneRow=l.addOneRow,O.prototype.addOneRowTree=l.addOneRowTree,O.prototype.addOneRowTreeHasChildF=l.addOneRowTreeHasChildF,O.prototype.editClose=l.editClose,O.prototype.addRows=l.addRows,O.prototype.createContentOneRowFixed=l.createContentOneRowFixed,O.prototype.updateEditRowIndex=l.updateEditRowIndex,O.prototype.deleteOneRow=l.deleteOneRow,O.prototype.repairSumRow=l.repairSumRow,O.prototype.deleteOneRowTree=l.deleteOneRowTree,O.prototype.deleteRows=l.deleteRows,O.prototype.updateRow=l.updateRow,O.prototype.updateValueAt=l.updateValueAt,O.prototype.updateValueAtTree=l.updateValueAtTree,O.prototype.updateValueAtEdit=l.updateValueAtEdit,O.prototype.setRowSelect=l.setRowSelect,O.prototype.setRowUnselect=l.setRowUnselect,O.prototype.setAllRowSelect=l.setAllRowSelect,O.prototype.setAllRowUnSelect=l.setAllRowUnSelect,O.prototype.setRowFocus=l.setRowFocus,O.prototype.setRowUnFocus=l.setRowUnFocus,O.prototype.resetNumCol=l.resetNumCol,O.prototype.isCheckedHeaderRow=l.isCheckedHeaderRow,O.prototype.renderTypeFun=h.renderTypeFun,O.prototype.renderTypeByColumn=h.renderTypeByColumn,O.prototype.renderTypeSumRow=h.renderTypeSumRow,O.prototype.getRenderOverFlag=h.getRenderOverFlag,O.prototype.setColumnVisibleByColumn=u.setColumnVisibleByColumn,O.prototype.setColumnVisibleByIndex=u.setColumnVisibleByIndex,O.prototype.setCoulmnWidthByField=u.setCoulmnWidthByField,O.prototype.setColumnWidth=u.setColumnWidth,O.prototype.setDataSource=u.setDataSource,O.prototype.setDataSourceFun1=u.setDataSourceFun1,O.prototype.widthChangeFun=c.widthChangeFun,O.prototype.widthChangeGridFun=c.widthChangeGridFun,O.prototype.widthChangeGridFunFixed=c.widthChangeGridFunFixed,O.prototype.widthChangeGridFunOverWidthHidden=c.widthChangeGridFunOverWidthHidden,O.prototype.heightChangeFun=c.heightChangeFun,O.prototype.contentWidthChange=c.contentWidthChange,O.prototype.noScrollWidthReset=c.noScrollWidthReset;var A=O.prototype,E=A.initGridCompColumn,j=A.initEventFun,D=A.initGridEventFun;A.initGridCompColumnColumnMenuFun=w.re_initGridCompColumnColumnMenuFun,A.initGridCompColumn=function(){E.apply(this,arguments),w.colMenu_initGridCompColumn.apply(this,arguments)},A.createColumnMenu=w.re_createColumnMenu,A.initEventFun=function(){j.apply(this,arguments),w.colMenu_initEventFun.apply(this,arguments)},A.initGridEventFun=function(){D.apply(this,arguments),w.colMenu_initGridEventFun.apply(this,arguments)},"undefined"==typeof A.saveGridCompColumnArrToLocal&&(A.saveGridCompColumnArrToLocal=function(){}),"undefined"==typeof A.clearLocalData&&(A.clearLocalData=function(){});var W=A.initEventFun,M=A.initGridEventFun;A.createHeaderDrag=g.re_createHeaderDrag,A.initEventFun=function(){W.apply(this,arguments),g.drag_initEventFun.apply(this,arguments)},A.initGridEventFun=function(){M.apply(this,arguments),g.drag_initGridEventFun.apply(this,arguments)},A.dragStart=g.dragStart,A.dragFun=g.dragFun,A.dragEnd=g.dragEnd,"undefined"==typeof A.saveGridCompColumnArrToLocal&&(A.saveGridCompColumnArrToLocal=function(){}),A.headerThDrag=g.headerThDrag,A.resetThVariableDrag=g.re_resetThVariableDrag;var L=A.initEventFun;A.hideEditMenu=v.re_hideEditMenu,A.clickFunEdit=v.re_clickFunEdit,A.editRowFun=v.editRowFun,A.editRowIndexFun=v.editRowIndexFun,A.editRow=v.editRow,A.editClose=v.re_editClose,A.editCell=v.editCell,A.nextEditShow=v.nextEditShow,A.editValueChange=v.editValueChange,"undefined"==typeof A.formEditCell&&(A.formEditCell=function(){}),A.updateEditRowIndex=v.re_updateEditRowIndex,A.updateValueAtEdit=v.re_updateValueAtEdit,A.setEditType=v.setEditType,A.setEditable=v.setEditable,A.setColumnEdit=v.setColumnEdit,A.editFieldIcon=v.editFieldIcon,A.initEventFun=function(){L.apply(this,arguments),v.edit_initEventFun.apply(this,arguments)},A.setGridEditType=v.setGridEditType,A.setGridEditTypeAndEditRow=v.setGridEditTypeAndEditRow,A.editHeadTitleIcon=v.editHeadTitleIcon;var H=A.initDefault,G=A.setRequired;A.initDefault=function(){H.apply(this,arguments),C.editForm_initDefault.apply(this,arguments)},A.setRequired=function(){G.apply(this,arguments),C.editForm_setRequired.apply(this,arguments)},A.editorRowChangeFun=C.re_editorRowChangeFun,A.formEditCell=C.formEditCell;var k=A.columnsVisibleFun;A.initGridCompFixedColumn=_.re_initGridCompFixedColumn,A.columnsVisibleFun=function(){k.apply(this,arguments),_.fixed_columnsVisibleFun.apply(this,arguments)},A.createHeaderTableFixed=_.re_createHeaderTableFixed,A.createContentTableFixed=_.re_createContentTableFixed,A.createContentOneRowFixed=_.re_createContentOneRowFixed,A.widthChangeGridFunFixed=_.re_widthChangeGridFunFixed,A.createFromDivs=y.createFromDivs,A.createFromContent=y.createFromContent,A.createFormContentRows=y.createFormContentRows,A.widthChangeFormFun=A,A.resetThVariableHeaderLevel=b.re_resetThVariableHeaderLevel,A.initGridCompColumnHeaderLevelFun=b.re_initGridCompColumnHeaderLevelFun,A.getLevelTitleByField=b.getLevelTitleByField,A.initGridCompColumnLoacl=x.re_initGridCompColumnLoacl,A.getLocalData=x.getLocalData,A.saveLocalData=x.saveLocalData,A.clearLocalData=x.clearLocalData,A.saveGridCompColumnArrToLocal=x.saveGridCompColumnArrToLocal,A.getGridCompColumnArrFromLocal=x.getGridCompColumnArrFromLocal,A.initGridHiddenLevelColumn=R.re_initGridHiddenLevelColumn,A.widthChangeGridFunOverWidthHidden=R.re_widthChangeGridFunOverWidthHidden;var B=A.initEventFun,V=A.initGridEventFun;A.initEventFun=function(){B.apply(this,arguments),$.sort_initEventFun.apply(this,arguments)},A.initGridEventFun=function(){V.apply(this,arguments),$.sort_initGridEventFun.apply(this,arguments)},A.canSortable=$.canSortable,A.deleteOneRowTree=$.re_deleteOneRowTree,A.sortRowsByPrio=$.sortRowsByPrio,A.createContentRowsSumRow=S.re_createContentRowsSumRow,A.createContentSumRow=S.re_createContentSumRow,A.createSumRow=S.createSumRow,A.createSumRowForIE=S.createSumRowForIE,A.repairSumRow=S.re_repairSumRow,A.renderSumRow=S.renderSumRow,A.renderTypeSumRow=S.re_renderTypeSumRow;var N=A.initEventFun,q=A.initGridEventFun;A.initEventFun=function(){N.apply(this,arguments),F.swap_initEventFun.apply(this,arguments)},A.initGridEventFun=function(){q.apply(this,arguments),F.swap_initGridEventFun.apply(this,arguments)},A.swapColumnStart=F.swapColumnStart,A.swapColumnFun=F.swapColumnFun,A.swapColumnEnd=F.swapColumnEnd;var P=A.initGridEventFun;A.initGridEventFun=function(){P.apply(this,arguments),T.rowDrag_initGridEventFun.apply(this,arguments)},A.rowDragStart=T.rowDragStart,A.rowDragFun=T.rowDragFun,A.rowDragEnd=T.rowDragEnd,A.setRowDrag=T.setRowDrag,A.initOptionsTree=I.re_initOptionsTree,A.clickFunTree=I.re_clickFunTree,A.addOneRowTree=I.re_addOneRowTree,A.addOneRowTreeHasChildF=I.re_addOneRowTreeHasChildF,A.updateValueAtTree=I.re_updateValueAtTree,A.getAllChildRow=I.getAllChildRow,A.getChildRowIndex=I.re_getChildRowIndex,A.getAllChildRowIndex=I.getAllChildRowIndex,A.getAllChildRowFun=I.getAllChildRowFun,A.getAllChildRowIndexFun=I.getAllChildRowIndexFun,A.expandNode=I.expandNode,
A.expandNodeByIndex=I.expandNodeByIndex,e.gridComp=O},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repairContent=e.createContentOneRowTdForIE=e.createContentOneRowTd=e.repaintRow=e.createContentOneRowForIE=e.createContentOneRow=e.createContentRowsSumRow=e.createContentRows=e.createNoRowsDiv=e.createContentTableFixed=e.createContentTable=e.createContentLeftNumColRow=e.createContentLeftMultiSelectRow=e.createContentLeft=e.createContentSumRow=e.createContent=e.createThead=e.createColgroup=e.createHeaderDrag=e.createHeaderTableFixed=e.createHeaderTable=e.createHeader=e.createColumnMenu=e.repaintGridDivs=e.createGridDivs=e.repaintDivs=e.createDivs=void 0;var o=i(5),n=function(){var t="",e="",i="";this.ele.innerHTML="",e+=this.options.width?"width:"+this.options.width+";":"width:auto;",e+=this.options.height?"height:"+this.options.height+";":"height:auto;",""!=e&&(t='style="'+e+'"'),o.gridBrowser.isMobile&&(i="u-grid-mobile");var n='<div id="'+this.options.id+'" data-role="grid" class="u-grid '+i+'" '+t+">";n+="</div>",this.ele.insertAdjacentHTML("afterBegin",n);var n='<div id="'+this.options.id+'_top" class="u-grid-top"></div>';document.body.appendChild($(n)[0]),this.initEventFun(),this.widthChangeFun()},s=function(){this.repaintGridDivs(),this.realtimeTableRows=null},r=function(){if(!this.createGridFlag){$("#"+this.options.id)[0]&&($("#"+this.options.id)[0].innerHTML="");var t='<div id="'+this.options.id+'_grid" class="u-grid-grid">';t+=this.createHeader(),t+=this.createContent(),t+="</div>",$("#"+this.options.id)[0]&&$("#"+this.options.id).html(t),$("#"+this.options.id+"_column_menu").remove(),$(document.body).append(this.createColumnMenu()),this.initGridEventFun(),this.headerFirstClassFun(),this.showType="grid",this.afterGridDivsCreate(),this.createGridFlag=!0,this.realtimeTableRows=null}},d=function(){$("#"+this.options.id+"_grid").remove(null,!0),this.showType="",this.wholeWidth=0,this.createGridFlag=!1,this.columnsVisibleFun(),this.widthChangeFun(),this.realtimeTableRows=null},a=function(){return""},l=function(){var t="",e="";this.options.showHeader||(e='style="display:none;"');var i='<div class="u-grid-header" id="'+this.options.id+'_header" '+e+'><div class="u-grid-header-wrap" id="'+this.options.id+'_header_wrap" data-role="resizable" '+t+">";return this.options.columnMenu&&(i+='<div class="u-grid-header-columnmenu uf uf-navmenu-light"></div>'),(this.options.multiSelect||this.options.showNumCol)&&(i+='<div id="'+this.options.id+'_header_left" class="u-grid-header-left" style="width:'+this.leftW+'px;">',this.options.multiSelect&&(i+=o.gridBrowser.isIE8?'<div class="u-grid-header-multi-select" style="width:'+this.multiSelectWidth+'px;"><span class="u-grid-checkbox-outline" id="'+this.options.id+'_header_multi_input"><span class="u-grid-checkbox-tick-outline"></span></span></div>':'<div class="u-grid-header-multi-select  checkbox check-success" style="width:'+this.multiSelectWidth+'px;"><span class="u-grid-checkbox-outline" id="'+this.options.id+'_header_multi_input"><span class="u-grid-checkbox-tick-outline"></span></span></div>'),this.options.showNumCol&&(i+='<div class="u-grid-header-num" style="width:'+this.numWidth+'px;"></div>'),i+="</div>"),i+=this.createHeaderTableFixed(),i+=this.createHeaderTable(),i+="</div>",i+=this.createHeaderDrag(),i+="</div>"},h=function(t){var e,i,o;if("fixed"==t?(e=parseInt(this.leftW),i="absolute;width:"+this.fixedWidth+"px;z-index:11;background:#F9F9F9;",o="fixed_"):(e="right"==this.options.fixedFloat?parseInt(this.leftW):parseInt(this.leftW)+parseInt(this.fixedWidth),i="relative;",o="",this.contentMinWidth>0&&(i+="width:"+this.contentMinWidth+"px;")),"fixed"==t&&"right"==this.options.fixedFloat)var n='<table role="grid" id="'+this.options.id+"_header_"+o+'table" style="position:'+i+';right:0px;">';else var n='<table role="grid" id="'+this.options.id+"_header_"+o+'table" style="position:'+i+";left:"+e+'px;">';return n+=this.createColgroup(t),n+='<thead role="rowgroup" id="'+this.options.id+"_header_"+o+'thead">',n+=this.createThead(t),n+="</thead></table>"},c=function(){return""},p=function(){return""},f=function(t){var e,i=this,o="<colgroup>";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(){this.options.visible&&(o+="<col",o+=' style="width:'+i.formatWidth(this.options.width)+'"',o+=">")}),o+="</colgroup>"},m=function(t){var e,i=0,o="";this.options.maxHeaderLevel>1&&(o='style="height:'+(this.headerHeight-1)+'px;"');var n='<tr role="row" '+o+">";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(t){var e=i,o="";0==this.options.visible?(e=-1,o='style="display:none;"'):i++,n+='<th role="columnheader" data-filed="'+this.options.field+'" rowspan="1" class="u-grid-header-th" '+o+'field="'+this.options.field+'" index="'+t+'" visibleIndex="'+e+'"><div style="position:relative;">';var s="";this.options.headerColor&&(s='style="color:'+this.options.headerColor+'"'),n+='<div class="u-grid-header-link" field="'+this.options.field+'"  '+s+">"+this.options.title+"</div>",n+="</div></th>"}),n+="</tr>"},w=function(){var t="",e="",i="",o=0;if(this.countContentHeight){var n=$("#"+this.options.id)[0].offsetHeight;this.wholeHeight=n,n>0&&(this.contentHeight=parseInt(n)-this.exceptContentHeight-1>0?parseInt(n)-this.exceptContentHeight-1:0,this.contentHeight>0&&(t='style="height:'+this.contentHeight+'px;"'))}var s='<div id="'+this.options.id+'_content" class="u-grid-content" '+t+">";return(this.options.showNumCol||this.options.multiSelect)&&(s+=this.createContentLeft(),this.contentWidth>this.contentMinWidth||(e="display:none;",i="bottom:0px;"),s+=this.createContentSumRow(i),u.isIOS&&(e+="width:0px;"),o="right"==this.options.fixedFloat?this.leftW:this.leftW+this.fixedWidth,s+='<div class="u-grid-content-left-bottom" id="'+this.options.id+'_content_left_bottom" style="width:'+o+"px;"+e+'">',s+="</div>"),s+=this.createContentTableFixed(),s+=this.createContentTable(),s+="</div>"},g=function(){return""},v=function(){var t,e=this,i="",o=0,n="";return this.options.showSumRow&&(n="u-grid-content-left-sum"),this.options.multiSelect&&(i+='<div class="u-grid-content-left '+n+'" id="'+this.options.id+'_content_multiSelect" style="width:'+this.multiSelectWidth+"px;"+t+'">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(t){i+=e.createContentLeftMultiSelectRow(this)}),i+="</div>",o+=this.multiSelectWidth),this.options.showNumCol&&(i+='<div class="u-grid-content-left '+n+'" id="'+this.options.id+'_content_numCol" style="width:'+this.numWidth+"px;left:"+o+"px;"+t+'">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(t,o){i+=e.createContentLeftNumColRow(t,o.value)}),i+="</div>"),i},C=function(t,e){var i="";!this.options.autoExpand&&t.level>0&&"block"!=e&&(i="display:none;");var n=t.value["$_#_@_id"];n||(n=setTimeout(function(){}));var s=t.value,r=this.selectRows,d=j(s,r);if(o.gridBrowser.isIE8)var a='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect " ><span class="u-grid-checkbox-outline" id="checkbox'+n+'" value="1"><span class="u-grid-checkbox-tick-outline"></span></span></div>';else if(d)var a='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect checkbox check-success u-grid-content-sel-row" ><span class="u-grid-checkbox-outline  is-checked" id="checkbox'+n+'" value="1"><span class="u-grid-checkbox-tick-outline"></span></span></div>';else var a='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect checkbox check-success" ><span class="u-grid-checkbox-outline" id="checkbox'+n+'" value="1"><span class="u-grid-checkbox-tick-outline"></span></span></div>';return a},_=function(t){var e,i=this.dataSourceObj.rows[t],o=i.value,n=this.selectRows,s=j(o,n);return e=s?'<div style="width:'+this.numWidth+'px;" class="u-grid-content-num  u-grid-content-sel-row">'+(t+1)+"</div>":'<div style="width:'+this.numWidth+'px;" class="u-grid-content-num">'+(t+1)+"</div>"},y=function(t){var e,i,o,n,s,r;n=this.countContentHeight&&parseInt(this.contentHeight)>0?"height:"+this.contentHeight+"px;":"","fixed"==t?(e=parseInt(this.leftW),i="fixed_",s="fixed-",o="right"==this.options.fixedFloat?'style="position:absolute;width:'+this.fixedWidth+"px;right:0px;"+n+'"':'style="position:absolute;width:'+this.fixedWidth+"px;left:"+e+"px;"+n+'"',r='style="width:'+this.fixedWidth+'px;"'):(e="right"==this.options.fixedFloat?parseInt(this.leftW):parseInt(this.leftW)+parseInt(this.fixedWidth,0),i="",s="",o='style="position:relative;left:'+e+"px;"+n,this.contentMinWidth>0&&(o+="width:"+this.contentMinWidth+"px;"),this.options.noScroll&&(o+="overflow-x:hidden;"),o+='"',r="",this.contentMinWidth>0&&(r=this.contentWidth>0?'style="min-width:'+this.contentMinWidth+"px;width:"+this.contentWidth+'px;"':'style="min-width:'+this.contentMinWidth+'px;"'));var d='<div id="'+this.options.id+"_content_"+i+'div" class="u-grid-content-'+s+'div" '+o+">";return d+='<div style="height:30px;position:absolute;top:-30px;width:100%;z-index:-1;"></div><table role="grid" id="'+this.options.id+"_content_"+i+'table" '+r+">",d+=this.createColgroup(t),d+='<thead role="rowgroup" id="'+this.options.id+"_content_"+i+'thead" style="display:none">',d+=this.createThead(t),d+="</thead>",d+=this.createContentRows(t),d+="</table>","fixed"!=t&&(d+=this.createNoRowsDiv()),d+="</div>"},b=function(){return""},x=function(){var t="",e="";this.contentMinWidth>0&&(t+='style="width:'+this.contentMinWidth+'px;"'),this.contentWidth>0&&(e+='style="width:'+this.contentWidth+'px;"');var i='<div class="u-grid-noRowsDiv"'+e+' id="'+this.options.id+'_noRows"></div>';return i+='<div class="u-grid-noRowsShowDiv"'+t+' id="'+this.options.id+'_noRowsShow">'+this.transMap.ml_no_rows+"</div>"},R=function(t){var e,i=this,o="";return e="fixed"==t?"fixed_":"",this.dataSourceObj.rows&&(o+='<tbody role="rowgroup" id="'+this.options.id+"_content_"+e+'tbody">',$.each(this.dataSourceObj.rows,function(e){o+=i.createContentOneRow(this,t)}),o+=this.createContentRowsSumRow(t),o+="</tbody>"),o},S=function(){return""},F=function(t,e,i){var o="";!this.options.autoExpand&&t.level>0&&"block"!=i&&(o='style="display:none"');var n=t.value,s=this.selectRows,r=j(n,s),d="";return d=r?'<tr role="row" class="u-grid-content-sel-row" '+o+">":'<tr role="row" '+o+">",d+=this.createContentOneRowTd(t,e),d+="</tr>"},T=function(t,e,i,o,n){var s=t.insertRow(e+1);s.setAttribute("role","row"),!this.options.autoExpand&&s.level>0&&"block"!=n&&(s.style.display="none"),this.createContentOneRowTdForIE(s,i,o)},I=function(t){var e=$("#"+this.options.id+"_content_tbody").find('tr[role="row"]')[t],i=$("#"+this.options.id+"_content_fixed_tbody").find('tr[role="row"]')[t],n=this.dataSourceObj.rows[t],s=$(e),r=this.getTrIndex(s);if(o.gridBrowser.isIE8||o.gridBrowser.isIE9){var d=$("#"+this.options.id+"_content_table")[0],a=$("#"+this.options.id+"_content_fixed_table")[0],l=e.className,h=i.className;d.deleteRow(t+1),a.deleteRow(t+1);var e=d.insertRow(t+1);u.addClass(e,l);var i=a.insertRow(t+1);u.addClass(i,h),this.createContentOneRowTdForIE(e,n),this.createContentOneRowTdForIE(i,n,"fixed")}else e.innerHTML=this.createContentOneRowTd(n),i&&(i.innerHTML=this.createContentOneRowTd(n,"fixed"));var c={};c.begin=r,c.length=1,this.renderTypeFun(c)},O=function(t,e){var i,o=this,n="",s=t.value;return i="fixed"==e?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(i,function(){var e=this.options.field,i=$(s).attr(e);i=o.getString(i,""),"object"==$.type(i)&&(i=i.showValue);var r=(this.options.renderType,""),d="",a="",l="";if(o.options.showTree&&this.firstColumn){var h=parseInt(o.treeLeft)*parseInt(t.level);r='style="position:relative;',t.hasChild?d=o.options.autoExpand?'<span class=" uf uf-reduce-s-o u-grid-content-tree-span"></span>':'<span class=" uf uf-add-s-o u-grid-content-tree-span"></span>':h+=16,r+="left:"+h+'px;"'}this.options.visible||(l='style="display:none;"'),this.options.icon&&(a='<span class="'+this.options.icon+'"></span>'),n+='<td role="rowcell"  '+l+' ><div class="u-grid-content-td-div" '+r+">"+d+a+"<span>"+i.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div></td>"}),n},A=function(t,e,i){var o,n=this,s=e.value;o="fixed"==i?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(o,function(){var i=this.options.field,o=$(s).attr(i),o=n.getString(o,"");"object"==$.type(o)&&(o=o.showValue);var r=(this.options.renderType,""),d="",a="",l="",h=t.insertCell();if(h.setAttribute("role","rowcell"),n.options.showTree&&this.firstColumn){var u=parseInt(n.treeLeft)*parseInt(e.level);r='style="position:relative;',e.hasChild?d=n.options.autoExpand?'<span class=" uf uf-minusbutton u-grid-content-tree-span"></span>':'<span class=" uf uf-addsquarebutton2 u-grid-content-tree-span"></span>':u+=18,r+="left:"+u+'px;"'}this.options.visible||(h.style.display="none"),this.options.icon&&(a='<span class="'+this.options.icon+'"></span>'),l+='<div class="u-grid-content-td-div" '+r+">"+d+a+"<span>"+o.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div>",h.insertAdjacentHTML("afterBegin",l)})},E=function(){var t=$("#"+this.options.id+"_content").parent();if($("#"+this.options.id+"_content").remove(null,!0),t[0]){var e=this.createContent();t[0].insertAdjacentHTML("beforeEnd",e),this.renderTypeFun(),this.initContentDivEventFun(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none")}this.realtimeTableRows=null},j=function(t,e){for(var i=e.length,o=0,n=0;n<i;n++){var s=e[n];o+=t==s?1:0}return o>0};e.createDivs=n,e.repaintDivs=s,e.createGridDivs=r,e.repaintGridDivs=d,e.createColumnMenu=a,e.createHeader=l,e.createHeaderTable=h,e.createHeaderTableFixed=c,e.createHeaderDrag=p,e.createColgroup=f,e.createThead=m,e.createContent=w,e.createContentSumRow=g,e.createContentLeft=v,e.createContentLeftMultiSelectRow=C,e.createContentLeftNumColRow=_,e.createContentTable=y,e.createContentTableFixed=b,e.createNoRowsDiv=x,e.createContentRows=R,e.createContentRowsSumRow=S,e.createContentOneRow=F,e.createContentOneRowForIE=T,e.repaintRow=I,e.createContentOneRowTd=O,e.createContentOneRowTdForIE=A,e.repairContent=E},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=this;if($("#"+e.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg"),t>-1){var i=$("#"+e.options.id+"_content_tbody").find("tr").eq(t);if(i[0].id&&i[0].id==e.options.id+"_edit_tr")return;if($("#"+e.options.id+"_content_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").eq(t).addClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").eq(t).addClass("u-grid-move-bg"),"function"==typeof e.options.onRowHover&&!i.is(".u-grid-content-sum-row")){var o={};o.gridObj=e,o.rowObj=e.dataSourceObj.rows[t],o.rowIndex=t,e.options.onRowHover(o)}}},o=function(t){this.widthChangeFun(),this.heightChangeFun(),this.editorRowChangeFun()},n=function(){},s=function(){"grid"==this.showType&&(this.columnsVisibleFun(),this.resetThVariable(),this.countRowHeight(),this.noRowsShowFun(),this.renderTypeFun(),this.resetScrollLeft(),this.hideEditMenu(),this.resetLeftHeight(),this.isCheckedHeaderRow(),"function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this))},r=function(){$("#"+this.options.id+"_content_tbody tr")[0]&&(this.rowHeight=$("#"+this.options.id+"_content_tbody tr")[0].offsetHeight)},d=function(){var t=this;this.resetLeftHeightSetTimeout&&clearTimeout(this.resetLeftHeightSetTimeout),this.resetLeftHeightSetTimeout=setTimeout(function(){a.call(t)},100)},a=function(){if(this.options.showNumCol||this.options.multiSelect)for(var t=$("#"+this.options.id+"_content_tbody tr"),e=$("#"+this.options.id+"_content_numCol div"),i=$("#"+this.options.id+"_content_multiSelect > div"),o=0;o<t.length;o++){var n=t[o].offsetHeight;e[o]&&(e[o].style.height=n+"px"),i[o]&&(i[o].style.height=n+"px")}},l=function(){this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0?($("#"+this.options.id+"_noRowsShow").css("display","none"),$("#"+this.options.id+"_noRows").css("display","none")):($("#"+this.options.id+"_noRowsShow").css("display","block"),$("#"+this.options.id+"_noRows").css("display","block"))},h=function(){this.resetScrollLeft(),this.hideEditMenu()},u=function(){if($("#"+this.options.id+"_content_div")[0])try{$("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft}catch(t){}},c=function(){};e.trHoverFun=i,e.setIntervalFun=o,e.editorRowChangeFun=n,e.afterGridDivsCreate=s,e.countRowHeight=r,e.noRowsShowFun=l,e.afterRepaintGrid=h,e.resetScrollLeft=u,e.hideEditMenu=c,e.resetLeftHeight=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){for(var i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i].options.field==e)return $(this.gridCompColumnArr[i].options).attr(t);return""},o=function(t){for(var e=0;e<this.gridCompColumnArr.length;e++)if(this.gridCompColumnArr[e].options.field==t)return this.gridCompColumnArr[e];return null},n=function(t){for(var e=-1,i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i]==t){e=i;break}return e},s=function(t){for(var e=-1,i=0,o=0;o<this.gridCompColumnArr.length;o++){if(this.gridCompColumnArr[o]==t){"none"!=$("#"+this.options.id+"_header").find("th").eq(o).css("display")&&(e=i);break}"none"!=$("#"+this.options.id+"_header").find("th").eq(o).css("display")&&i++}return e},r=function(t){for(var e=-1,i=!1,o=0,n=0;n<this.gridCompColumnArr.length;n++){if(this.gridCompColumnArr[n]==t&&("none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&o++,i=!0),1==i&&"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")){e=o;break}"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&o++}return e},d=function(){return this.selectRows},a=function(){return this.selectRowsIndex},l=function(){return this.focusRow},h=function(){return this.focusRowIndex},u=function(){var t=this;return this.allRows=new Array,this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(){t.allRows.push(this.value)}),this.allRows},c=function(t){return this.dataSourceObj.rows[t]},p=function(t,e){var i=-1;return $.each(this.dataSourceObj.rows,function(o){var n=$(this.value).attr(t);n==e&&(i=o)}),i},f=function(t){var e=[];return $.each(t.childRow,function(){e.push(this.valueIndex)}),e},m=function(t){for(var e=-1,i=0;i<this.gridCompColumnArr.length;i++){var o=this.gridCompColumnArr[i];if("none"!=$("#"+this.options.id+"_header").find("th").eq(i).css("display")&&e++,e==t)return o}return null};e.getColumnAttr=i,e.getColumnByField=o,e.getIndexOfColumn=n,e.getVisibleIndexOfColumn=s,e.getNextVisibleInidexOfColumn=r,e.getSelectRows=d,e.getSelectRowsIndex=a,e.getFocusRow=l,e.getFocusRowIndex=h,e.getAllRows=u,e.getRowByIndex=c,e.getRowIndexByValue=p,e.getChildRowIndex=f,e.getColumnByVisibleIndex=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initDataSource=e.setRequired=e.initGridCompFixedColumn=e.initGridHiddenLevelColumn=e.initGridCompColumnLoacl=e.initGridCompColumnHeaderLevelFun=e.initGridCompColumnColumnMenuFun=e.initGridCompColumnFun=e.initGridCompColumnVar=e.initGridCompColumn=e.initWidthVariable=e.initDataSourceVariable=e.initVariable=e.initOptionsTree=e.initOptions=e.destroySelf=e.initGrid=e.initDefault=e.getBooleanOptions=e.init=void 0;var o=(i(5),i(1)),n=i(7),s=(i(14),function(t,e){this.dataSource=o.dataSource,this.gridCompColumn=n.column,this.ele=t[0],this.$ele=t,this.initDefault(),this.options=$.extend({},this.defaults,e),this.getBooleanOptions(),this.transDefault={ml_show_column:"显示/隐藏列",ml_clear_set:"清除设置",ml_no_rows:"无数据",ml_sum:"合计:",ml_close:"关闭"},this.transMap=$.extend({},this.transDefault,e.transMap),this.gridCompColumnFixedArr=new Array,this.gridCompColumnArr=new Array,this.countContentHeight=!0,this.minColumnWidth=80,this.scrollBarHeight=16,this.numWidth=this.options.numWidth||40,this.multiSelectWidth=this.options.multiSelectWidth||40,this.basicGridCompColumnArr=new Array,this.columnMenuWidth=160,this.columnMenuHeight=33,this.gridCompColumnFixedArr=new Array,this.gridCompLevelColumn=new Array,this.headerHeight=44*parseInt(this.options.maxHeaderLevel)+1,this.gridCompHiddenLevelColumnArr=new Array,this.treeLeft=10,this.overWidthVisibleColumnArr=new Array}),r=function(){this.options.cancelFocus=this.getBoolean(this.options.cancelFocus),this.options.showHeader=this.getBoolean(this.options.showHeader),this.options.showNumCol=this.getBoolean(this.options.showNumCol),this.options.multiSelect=this.getBoolean(this.options.multiSelect),this.options.columnMenu=this.getBoolean(this.options.columnMenu),this.options.canDrag=this.getBoolean(this.options.canDrag),this.options.overWidthHiddenColumn=this.getBoolean(this.options.overWidthHiddenColumn),this.options.sortable=this.getBoolean(this.options.sortable),this.options.showSumRow=this.getBoolean(this.options.showSumRow),this.options.canSwap=this.getBoolean(this.options.canSwap),this.options.showTree=this.getBoolean(this.options.showTree),this.options.autoExpand=this.getBoolean(this.options.autoExpand),this.options.needTreeSort=this.getBoolean(this.options.needTreeSort),this.options.needLocalStorage=this.getBoolean(this.options.needLocalStorage),this.options.noScroll=this.getBoolean(this.options.noScroll),this.options.cancelSelect=this.getBoolean(this.options.cancelSelect),this.options.contentSelect=this.getBoolean(this.options.contentSelect),this.options.contentFocus=this.getBoolean(this.options.contentFocus)},d=function(){this.defaults={id:(new Date).valueOf(),editType:"default",cancelFocus:!0,cancelSelect:!0,showHeader:!0,showNumCol:!1,multiSelect:!1,columnMenu:!0,canDrag:!0,formMaxWidth:0,maxHeaderLevel:1,overWidthHiddenColumn:!1,sortable:!0,showSumRow:!1,canSwap:!0,showTree:!1,autoExpand:!0,needTreeSort:!1,needLocalStorage:!1,noScroll:!1,contentSelect:!0,showEditIcon:!1,contentFocus:!0,fixedFloat:"left"}},a=function(){if(this.options.columns&&0!=this.options.columns.length){var t=this;this.initOptions(),this.initVariable(),this.initWidthVariable(),this.initGridCompColumn(),this.initDataSource(),this.createDivs(),this.inte=setInterval(function(){t.setIntervalFun.call(t)},300)}},l=function(){clearInterval(this.inte),this.$ele.data("gridComp",null),this.ele.innerHTML="",this.showTree="",this.showType=""},h=function(){this.options.width=this.formatWidth(this.options.width),this.options.height=this.formatWidth(this.options.height),"100%"!=this.options.height&&this.options.height||(this.countContentHeight=!1),this.initOptionsTree(),this.leftW=0,this.options.showNumCol&&(this.leftW+=this.numWidth),this.options.multiSelect&&(this.leftW+=this.multiSelectWidth),this.exceptContentHeight=0,this.options.showHeader&&(this.exceptContentHeight+=this.headerHeight),this.fixedWidth=0,this.options.maxHeaderLevel>1&&(this.options.canSwap=!1);var t=window.location.href,e=t.indexOf("?");e>0&&(t=t.substring(0,e)),this.localStorageId=this.options.id+t},u=function(){},c=function(){this.initDataSourceVariable(),this.mouseUpX="mouseUpX",this.mouseUpY="mouseUpY",this.mouseDownX="mouseDownX",this.mouseDownY="mouseDownY",this.mouseMoveX="mouseMoveX",this.mouseMoveY="mouseMoveY",this.scrollLeft=0,this.scrollTop=0,this.showType="",this.createGridFlag=!1,this.columnClickX=0,this.columnClickY=0,this.columnMenuMove=!1,this.firstColumn=!0,this.lastVisibleColumn=null,this.lastVisibleColumnWidth=0,this.columnMenuMove=!1,this.createColumnMenuFlag=!1,this.menuColumnsHeight=0,this.createFormFlag=!1,this.$sd_storageData=null},p=function(){this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,this.allRows=new Array,this.eidtRowIndex=-1},f=function(){this.wholeWidth=0,this.wholeHeight=0,this.rowHeight=0,this.contentRealWidth=0,this.contentWidth=0,this.contentMinWidth=0,this.contentHeight=0,this.fixedRealWidth=0,this.fixedWidth=0},m=function(){var t=this;this.initGridCompColumnVar(),this.options.columns&&$.each(this.options.columns,function(e){t.initGridCompColumnFun(this)}),this.initGridCompColumnLoacl(),this.initGridHiddenLevelColumn(),this.initGridCompFixedColumn(),this.columnsVisibleFun()},w=function(){this.gridCompColumnArr=new Array,this.basicGridCompColumnArr=new Array,this.gridCompColumnFixedArr=new Array,this.gridCompLevelColumn=new Array,this.gridCompHiddenLevelColumnArr=new Array},g=function(t){var e=new n.column(t,this);this.editHeadTitleIcon(e);var i=e.options.width+"";i.indexOf("%")>0?this.options.noScroll="true":e.options.width=parseInt(e.options.width),e.options.optionsWidth=e.options.width,e.options.realWidth=e.options.width,this.gridCompColumnArr.push(e),this.initGridCompColumnColumnMenuFun(t),this.initGridCompColumnHeaderLevelFun(t)},v=function(t){},C=function(t){},_=function(t){},y=function(){},b=function(){},x=function(t,e){},R=function(){this.dataSourceObj=new o.dataSource(this.options.dataSource,this)};e.init=s,e.getBooleanOptions=r,e.initDefault=d,e.initGrid=a,e.destroySelf=l,e.initOptions=h,e.initOptionsTree=u,e.initVariable=c,e.initDataSourceVariable=p,e.initWidthVariable=f,e.initGridCompColumn=m,e.initGridCompColumnVar=w,e.initGridCompColumnFun=g,e.initGridCompColumnColumnMenuFun=v,e.initGridCompColumnHeaderLevelFun=C,e.initGridCompColumnLoacl=_,e.initGridHiddenLevelColumn=y,e.initGridCompFixedColumn=b,e.setRequired=x,e.initDataSource=R},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editHeadTitleIcon=e.setGridEditTypeAndEditRow=e.setGridEditType=e.edit_initEventFun=e.editFieldIcon=e.setColumnEdit=e.setEditable=e.setEditType=e.re_updateValueAtEdit=e.re_updateEditRowIndex=e.editValueChange=e.nextEditShow=e.editCell=e.re_editClose=e.editRow=e.editRowIndexFun=e.editRowFun=e.re_clickFunEdit=e.re_hideEditMenu=void 0;var o=(i(4),i(5)),n=function(){$("#"+this.options.id+"_content_edit_menu").css("display","none")},s=function(t,e){var i=$(t.target).closest("tr"),o=$(t.target).closest("td"),n=o.index();this.options.editable&&(this.eidtRowIndex!=e||"default"==this.options.editType&&this.editColIndex!=n)&&(this.editClose(),this.editRowFun(i,n))},r=function(t,e){var i=this.getTrIndex(t);if("function"==typeof this.options.onBeforeEditFun){var o={};if(o.gridObj=this,o.rowObj=this.dataSourceObj.rows[i],o.rowIndex=i,o.colIndex=e,o.$tr=t,!this.options.onBeforeEditFun(o))return void(this.eidtRowIndex!=-1&&this.editClose())}this.eidtRowIndex!=-1&&this.editClose();var i="number"==typeof t?t:this.getTrIndex(t);return this.eidtRowIndex=i,this.editColIndex=e,this.editRow(t,e),!0},d=function(t){this.eidtRowIndex!=-1&&this.editClose(),this.eidtRowIndex=t,this.editColIndex=0,this.editRow()},a=function(t,e){if(!(e<0)){var i=this,o=!1;t&&t.parents("table").attr("id").indexOf("_fixed_")>-1&&(o=!0),t=t||$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+this.eidtRowIndex+")"),e=e||0;var n=this.dataSourceObj.rows[this.eidtRowIndex].value;if(this.editRowObj=this.cloneObj(n),"default"==this.options.editType){var s=o?this.gridCompColumnFixedArr[e]:this.gridCompColumnArr[e];if(s.options.editable){var r=$("td:eq("+e+")",t)[0],d=s.options.field,a=$(n).attr(d);a=i.getString(a,"");var l={};l.td=r,l.value=a,l.field=d,l.editType=s.options.editType,l.rowObj=i.editRowObj,l.$tr=t,l.colIndex=e,i.editCell(l)}$("#"+this.options.id+"_content_edit_menu").css("display","block"),$("#"+this.options.id+"_content_edit_menu_cancel").css("marginLeft","10px");var h=$("tr:visible",t.parent()).index(t);this.rowHeight=t.height();this.rowHeight*(h+1)+this.headerHeight+1}else if("form"==this.options.editType)if("function"==typeof this.options.formEditRenderFun){if(this.fixedWidth>0)var u=$("#"+this.options.id+"_content_fixed_table")[0];else var u=$("#"+this.options.id+"_content_table")[0];var c=u.insertRow(this.eidtRowIndex+2);c.id=this.options.id+"_edit_tr",$(c).addClass("grid_edit_form_tr");var p=c.insertCell();p.id=this.options.id+"_edit_td",$(p).addClass("grid_edit_form_td"),p.style.borderBottom="0px",p.style.background="#fff";var f=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),m='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+f+'px;float:left;">';m+="</div>",p.innerHTML=m;var l={};l.grid=gridObj,l.element=$("#"+this.options.id+"_edit_form")[0],l.editRowObj=this.editRowObj,this.options.formEditRenderFun.call(this,l);var m='<div style="position:relative;float:left;width:100%;height:40px;"></div>';$("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",m);var w=$("#"+this.options.id+"_edit_td")[0].offsetHeight,g=$("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var v=$("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),m='<div class="grid_open_edit" id="'+this.options.id+'_multiSelect_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+w+'px"></div>';v[0].insertAdjacentHTML("afterEnd",m)}if(this.options.showNumCol){var v=$("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),m='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';v[0].insertAdjacentHTML("afterEnd",m)}if($("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var C=$("#"+this.options.id+"_content_table")[0],_=C.insertRow(this.eidtRowIndex+2);_.id=this.options.id+"_edit_tr1"}}else{if(this.fixedWidth>0)var u=$("#"+this.options.id+"_content_fixed_table")[0];else var u=$("#"+this.options.id+"_content_table")[0];var c=u.insertRow(this.eidtRowIndex+2);c.id=this.options.id+"_edit_tr",$(c).addClass("grid_edit_form_tr");var p=c.insertCell();p.id=this.options.id+"_edit_td",$(p).addClass("grid_edit_form_td"),p.style.borderBottom="0px";var f=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),m='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+f+'px;float:left;">';if($.each(this.gridCompColumnFixedArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var o=this.options.field,s=$(n).attr(o);s=i.getString(s,"");var r=this.options.title,d=this.options.headerColor;m+=i.formEditCell(s,o,r,this.options.required,d)}}),$.each(this.gridCompColumnArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var o=this.options.field,s=$(n).attr(o);s=i.getString(s,"");var r=this.options.title,d=this.options.headerColor;m+=i.formEditCell(s,o,r,this.options.required,d)}}),m+="</div>",p.innerHTML=m,$.each(this.gridCompColumnFixedArr,function(o){var s=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(s=!0),s){var r=this.options.field,d=$("#"+i.options.id+"_edit_"+r)[0],a=$(n).attr(r);this.options.title;a=i.getString(a,"");var l={};l.td=d,d.innerHTML='<div class="u-grid-content-td-div" title=""></div>',l.value=a,l.field=r,l.editType=this.options.editType,l.rowObj=i.editRowObj,l.$tr=t,l.colIndex=e,m+=i.editCell(l)}}),$.each(this.gridCompColumnArr,function(o){var s=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(s=!0),s){var r=this.options.field,d=$("#"+i.options.id+"_edit_"+r)[0],a=$(n).attr(r);this.options.title;
a=i.getString(a,"");var l={};l.td=d,d.innerHTML='<div class="u-grid-content-td-div" title=""></div>',l.value=a,l.field=r,l.editType=this.options.editType,l.rowObj=i.editRowObj,l.$tr=t,l.colIndex=e,m+=i.editCell(l)}}),"function"==typeof this.options.renderEditMemu)this.options.renderEditMemu.apply(this,[$("#"+this.options.id+"_edit_form")[0],this.eidtRowIndex,this.dataSourceObj.rows.length]);else{var m='<div id="'+this.options.id+'_content_edit_menu" style="position:relative;float:left;width:100%;height:40px;"><button type="button" class="u-grid-content-edit-menu-button u-grid-content-edit-menu-button-ok" id="'+this.options.id+'_content_edit_menu_close">'+this.transMap.ml_close+"</button></div>";$("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",m),$("#"+this.options.id+"_content_edit_menu_close").on("click",function(t){i.editClose()})}var w=$("#"+this.options.id+"_edit_td")[0].offsetHeight,g=$("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var v=$("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),m='<div class="grid_open_edit " id="'+this.options.id+'_multiSelect_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+w+'px"></div>';v[0].insertAdjacentHTML("afterEnd",m)}if(this.options.showNumCol){var v=$("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),m='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';v[0].insertAdjacentHTML("afterEnd",m)}if($("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var C=$("#"+this.options.id+"_content_table")[0],_=C.insertRow(this.eidtRowIndex+2);_.id=this.options.id+"_edit_tr1"}}}},l=function(){var t=!0;if(!(this.eidtRowIndex<0)){var e=this.dataSourceObj.rows[this.eidtRowIndex],i=null;this.editComp&&this.editComp.hide&&(this.editComp.hide(),t=!1);try{var i=this.editComp.element.parentNode.querySelector("input")}catch(t){}i&&(i.blur(),t=!1),this.editComp&&this.editComp.comp&&this.editComp.comp.hide&&(this.editComp.comp.hide(),t=!1);try{$("#"+this.options.id+"_placeholder_div").remove()}catch(t){}if(e){if("form"!=this.options.editType){var o={};o.begin=this.eidtRowIndex,o.length=1,this.renderTypeFun(o)}$("#"+this.options.id+"_content_edit_menu").css("display","none"),this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag(),this.eidtRowIndex=-1,$("#"+this.options.id+"_multiSelect_edit").remove(null,!0),$("#"+this.options.id+"_numCol_edit").remove(null,!0),$("#"+this.options.id+"_edit_tr").remove(null,!0),$("#"+this.options.id+"_edit_tr1").remove(null,!0)}}},h=function(t){var e=t.td,i=t.value,o=t.field,n=t.editType,s=t.rowObj,r=t.$tr,d=t.colIndex,a=this;if(0==t.colIndex)try{this.iconSpan="",this.iconSpan=$(e).find(".uf")[0].outerHTML}catch(t){}else this.iconSpan="";var t={};if(t.td=e,t.field=o,t.$tr=r,t.colIndex=d,a.newEditObj=t,"text"==n)"default"==this.options.editType?e.innerHTML='<div class="u-grid-content-td-div" style="position: relative; left: 0px;"><div class="eType-input"><input id="'+this.options.id+"_edit_field_"+o+'" type="text" value="'+i+'" field="'+o+'" style="width:100%;margin:0px;min-height:20px;font-size:12px;color:#444"></div></div>':e.innerHTML='<div class="u-grid-content-td-div" style="position: relative; left: 0px;"><div class="eType-input"><input id="'+this.options.id+"_edit_field_"+o+'" type="text" value="'+i+'" field="'+o+'"></div></div>',$("input",$(e)).on("blur",function(){a.editValueChange(o,this.value)});else if("function"==typeof n){var t={},l=$(".u-grid-content-td-div",$(e));if(l.removeClass("u-grid-content-td-div-over"),t.gridObj=this,t.element=l[0],"default"==this.options.editType){var h=t.element.offsetHeight,c='<div id="'+this.options.id+'_placeholder_div" class="u-grid-edit-placeholder-div" style="height:'+h+'px;"></div>';l[0].innerHTML=c,t.element=$("#"+this.options.id+"_placeholder_div")[0]}t.value=i,t.field=o,t.rowObj=s,n.call(this,t)}$("input",$(e)).off("keydown"),$("input",$(e)).on("keydown",function(t){if("form"==a.options.editType);else{t.keyCode;13!=t.keyCode&&9!=t.keyCode||(this.blur(),setTimeout(function(){a.nextEditShow()},100),u.stopEvent(t))}}),"default"==this.options.editType&&$("input:first",$(e)).focus()},c=function(){var t=this.newEditObj,e=t.td,i=t.$tr,o=parseInt(t.colIndex)+1;if(0==$(e).next("td").length){var n=i.next("tr");if(!(n.length>0))return;i=n,o=0,i.click()}o=p(this,o,i),this.editRowFun(i,o)},p=function t(e,i,o){var n=-1,s=e.gridCompColumnArr[i],r=!0,d=e.getTrIndex(o);if("function"==typeof e.options.onBeforeEditFun){var a={};a.gridObj=e,a.rowObj=e.dataSourceObj.rows[d],a.rowIndex=d,a.colIndex=i,a.$tr=o,e.options.onBeforeEditFun(a)||(r=!1)}return n=s.options.visible&&s.options.editable&&r?i:t(e,i+1,o)},f=function(t,e){this.eidtRowIndex>-1&&this.eidtRowIndex<this.dataSourceObj.rows.length&&this.updateValueAt(this.eidtRowIndex,t,e)},m=function(t,e,i){this.eidtRowIndex<0||("-"==t?e<this.eidtRowIndex?this.eidtRowIndex--:e==this.eidtRowIndex&&(this.eidtRowIndex=-1):"+"==t&&(void 0===i&&(i=1),e<=this.eidtRowIndex&&(this.eidtRowIndex+=i)))},w=function(t,e,i,o){this.eidtRowIndex==t&&("form"==this.options.editType||this.gridCompColumnArr[this.editColIndex].options.field==e&&(this.eidtRowIndex=-1),$("#"+this.options.id+"_edit_field_"+e).length>0&&("checkbox"==$("#"+this.options.id+"_edit_field_"+e)[0].type?"Y"==i||"true"==i||i===!0?$("#"+this.options.id+"_edit_field_"+e)[0].checked=!0:$("#"+this.options.id+"_edit_field_"+e)[0].checked=!1:$("#"+this.options.id+"_edit_field_"+e)[0].value=i))},g=function(t,e){var i=this.getColumnByField(t);i.options.editType=e},v=function(t){this.options.editable=t,this.setColumnEdit(),this.editClose()},C=function(){var t;for(t=0;t<this.gridCompColumnArr.length;t++)this.editFieldIcon(this.gridCompColumnArr[t]);for(t=0;t<this.gridCompColumnFixedArr.length;t++)this.editFieldIcon(this.gridCompColumnFixedArr[t])},_=function(t){var e=$(".u-grid-header-link[field="+t.options.field+"]"),i=e.find(".uf-fontselectioneditor");this.options.showEditIcon&&this.options.editable&&t.options.editable?(i||e.append('<i class="uf uf-fontselectioneditor"></i>'),e.removeClass("u-grid-hide-title-icon")):e.addClass("u-grid-hide-title-icon")},y=function(){var t=this;$(document).on("click",function(e){if(t.options.editable&&"default"==t.options.editType){var i=$(e.target),o=!0;o=!($(e.target).closest(".u-grid-content-td-div").length>0)&&o;var n=t.options.customEditPanelClass;if(n){var s=n.split(",");$.each(s,function(){o=!(i.closest("."+this).length>0)&&o})}"grid-for-edit"==i.attr("role")&&(o=!1),o&&t.editClose()}}),u.on(document,"scroll",function(){"default"==t.options.editType&&(o.gridBrowser.isIE10||o.gridBrowser.isIPAD||t.editClose())}),$("div").on("scroll",function(){"default"==t.options.editType&&(o.gridBrowser.isIE10||o.gridBrowser.isIPAD||t.editClose())})},b=function(t){this.options.editType=t},x=function(t,e,i){this.options.editType=t;var o=$("#"+this.options.id+"_content_tbody"),n=$("tr:eq("+e+")",o);this.editRowFun(n,i)},R=function(t){this.options.showEditIcon&&this.options.editable&&t.options.editable&&(t.options.title+='<i class="uf uf-fontselectioneditor"></i>')};e.re_hideEditMenu=n,e.re_clickFunEdit=s,e.editRowFun=r,e.editRowIndexFun=d,e.editRow=a,e.re_editClose=l,e.editCell=h,e.nextEditShow=c,e.editValueChange=f,e.re_updateEditRowIndex=m,e.re_updateValueAtEdit=w,e.setEditType=g,e.setEditable=v,e.setColumnEdit=C,e.editFieldIcon=_,e.edit_initEventFun=y,e.setGridEditType=b,e.setGridEditTypeAndEditRow=x,e.editHeadTitleIcon=R},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){0!==this.selectRows.length&&this.selectRows.length==this.dataSourceObj.rows.length?$("#"+this.options.id+"_header_multi_input").addClass("is-checked"):$("#"+this.options.id+"_header_multi_input").removeClass("is-checked")},o=function(t,e){var i="none",o={},n=this.dataSourceObj.rows.length,s=!1;o.value=t,i;var r=this.addOneRowTree(t,e,o);e=r.index,i=r.displayFlag,0!=e&&(e&&e>0?n<e&&(e=n):e=0),n==e&&(s=!0),o.valueIndex=e,o.value=t,this.dataSourceObj.rows.splice(e,0,o),this.dataSourceObj.rows.length>e+1&&$.each(this.dataSourceObj.rows,function(t){t>e&&(this.valueIndex=this.valueIndex+1)});var n=0;if(this.options.showTree?(this.dataSourceObj.options.values?n=this.dataSourceObj.options.values.length:this.dataSourceObj.options.values=new Array,this.dataSourceObj.options.values.splice(e,0,t),this.addOneRowTreeHasChildF(o)):(this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),this.dataSourceObj.options.values.splice(e,0,t)),"grid"==this.showType){this.editClose(),this.updateEditRowIndex("+",e);try{var d=this.createContentOneRow(o,"normal",i);if(s)$("#"+this.options.id+"_content_tbody")[0].insertAdjacentHTML("beforeEnd",d);else{var a=$("#"+this.options.id+"_content_tbody").find('tr[role="row"]')[e],l=$("#"+this.options.id+"_content_tbody")[0];a?a.insertAdjacentHTML("beforeBegin",d):l&&l.insertAdjacentHTML("afterBegin",d)}if($("#"+this.options.id+"_content_fixed_div").length>0){var d=this.createContentOneRow(o,"fixed",i);if(s)$("#"+this.options.id+"_content_fixed_tbody")[0].insertAdjacentHTML("beforeEnd",d);else{var a=$("#"+this.options.id+"_content_fixed_tbody").find('tr[role="row"]')[e];a?a.insertAdjacentHTML("beforeBegin",d):$("#"+this.options.id+"_content_fixed_tbody")[0]&&$("#"+this.options.id+"_content_fixed_tbody")[0].insertAdjacentHTML("afterBegin",d)}}}catch(t){var h=$("#"+this.options.id+"_content_div table")[0];h&&this.createContentOneRowForIE(h,e,o,"normal",i);var u=$("#"+this.options.id+"_content_fixed_div table")[0];u&&this.createContentOneRowForIE(u,e,o,"fixed",i)}if(this.options.multiSelect){var d=this.createContentLeftMultiSelectRow(o,i);if(s)$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",d);else{var c=$("#"+this.options.id+"_content_multiSelect").find("div")[e];c?c.insertAdjacentHTML("beforeBegin",d):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",d)}}if(this.options.showNumCol){var d=this.createContentLeftNumColRow(n,t);if(s)$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",d);else{var c=$("#"+this.options.id+"_content_numCol").find("div")[e];c?c.insertAdjacentHTML("beforeBegin",d):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",d)}this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag();var p={};p.begin=e,p.length=1,this.renderTypeFun(p)}},n=function(t,e){return e},s=function(){},r=function(){},d=function(t,e){if(this.$ele.data("gridComp")==this)if(this.options.showTree)for(var i=t.length,o=0;o<i;o++)this.addOneRow(t[o],i);else{this.editClose();var n="",s="",r="",d="",a=this,i=this.dataSourceObj.rows.length,l=!1;0!=e&&(e&&e>0?i<e&&(e=i):e=0),i==e&&(l=!0);var h=new Array;if($.each(t,function(t){var i={};i.value=this,i.valueIndex=e+t,h.push(i),a.dataSourceObj.rows.splice(e+t,0,i),a.updateEditRowIndex("+",e+t)}),this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),$.each(t,function(t){a.dataSourceObj.options.values.splice(e+t,0,this)}),this.dataSourceObj.rows.length>e+t.length&&$.each(this.dataSourceObj.rows,function(i){i>e+t.length-1&&(this.valueIndex=this.valueIndex+t.length)}),"grid"==this.showType&&$("#"+this.options.id+"_content_div tbody")[0]){$.each(h,function(t,e){n+=a.createContentOneRow(this),d+=a.createContentOneRowFixed(this),a.options.multiSelect&&(s+=a.createContentLeftMultiSelectRow(this)),a.options.showNumCol&&(r+=a.createContentLeftNumColRow(i+t,e.value))});try{l?$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",n):$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",n):$("#"+this.options.id+"_content_div tbody")[0]&&$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",n),l?$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",d):$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",d):$("#"+this.options.id+"_content_fixed_div tbody")[0]&&$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",d)}catch(t){var u=$("#"+this.options.id+"_content_div table")[0],c=$("#"+this.options.id+"_content_fixed_div table")[0];u&&c&&$.each(h,function(t){a.createContentOneRowForIE(u,e+t,this),a.createContentOneRowForIE(c,e+t,this,"fixed")})}if(this.options.multiSelect)if(l)$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",s);else{var p=$("#"+this.options.id+"_content_multiSelect").find("div")[e];p?p.insertAdjacentHTML("beforeBegin",s):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",s)}if(this.options.showNumCol){if(l)$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",r);else{var p=$("#"+this.options.id+"_content_numCol").find("div")[e];p?p.insertAdjacentHTML("beforeBegin",r):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",r)}this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun();var f={};f.begin=e,f.length=t.length,this.renderTypeFun(f)}this.updateLastRowFlag(),this.isCheckedHeaderRow()}},a=function(t){return""},l=function(t,e,i){},h=function(t){var e=this;t=parseInt(t);var i=this.dataSourceObj.rows[t];if(i){var o=i.value;if("grid"==this.showType&&this.editClose(),this.dataSourceObj.rows.splice(t,1),this.updateEditRowIndex("-",t),this.dataSourceObj.options.values){var n=this.dataSourceObj.options.values.indexOf(o);this.dataSourceObj.options.values.splice(n,1)}if(this.dataSourceObj.rows.length>t+1&&$.each(this.dataSourceObj.rows,function(e){e>=t&&(this.valueIndex=this.valueIndex-1)}),this.selectRows&&$.each(this.selectRows,function(i){this==o?(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1)):e.selectRowsIndex[i]>t&&(e.selectRowsIndex[i]=e.selectRowsIndex[i]-1)}),this.focusRow&&(this.focusRow==o?(this.focusRow=null,this.focusRowObj=null,this.focusRowIndex=null):this.focusRowIndex>t&&(this.focusRowIndex=this.focusRowIndex-1)),"grid"==this.showType&&($("#"+this.options.id+"_content_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_multiSelect >div:eq("+t+")").remove(),$("#"+this.options.id+"_content_numCol >.u-grid-content-num:eq("+t+")").remove(),this.resetNumCol(),this.repairSumRow(),this.noRowsShowFun(),this.updateNumColLastRowFlag()),this.deleteOneRowTree(),"function"==typeof this.options.onRowDelete){var s={};if(s.gridObj=this,s.index=t,s.row=i,!this.options.onRowDelete(s))return}this.isCheckedHeaderRow()}},c=function(){},p=function(){},f=function(t){var e=this,i=new Array;$.each(t,function(e){i.push(t[e])}),i.sort(function(t,e){return e-t}),$.each(i,function(t){e.deleteOneRow(this)}),this.isCheckedHeaderRow()},m=function(t,e){if(t>-1&&t<this.dataSourceObj.rows.length&&(this.dataSourceObj.rows[t].value=e,this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]=e,"grid"==this.showType)){var i={};i.begin=t,i.length=1,this.renderTypeFun(i),this.repairSumRow()}},w=function(t,e,i,o){if(t>-1&&t<this.dataSourceObj.rows.length){var n=$(this.dataSourceObj.rows[t].value).attr(e),s=t;if("undefined"==typeof i&&(i=""),n!=i||o){if("function"==typeof this.options.onBeforeValueChange){var r={};r.gridObj=this,r.rowIndex=s,r.field=e,r.oldValue=n,r.newValue=i;var d=this.options.onBeforeValueChange(r);if(!d)return}if($(this.dataSourceObj.rows[t].value).attr(e,i),$(this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]).attr(e,i),"grid"==this.showType){var r={};r.field=e,r.begin=t,r.length=1,this.renderTypeFun(r),s=this.updateValueAtTree(t,e,i,o),this.updateValueAtEdit(t,e,i,o),this.repairSumRow()}if("function"==typeof this.options.onValueChange){var r={};r.gridObj=this,r.rowIndex=s,r.field=e,r.oldValue=n,r.newValue=i,this.options.onValueChange(r)}this.resetLeftHeight()}}},g=function(t,e,i,o){return t},v=function(t,e,i,o){},C=function(t,e){var i,o,n,s;if(!this.dataSourceObj.rows[t])return!0;if("grid"==this.showType&&(o=e&&e.contentTrs?e.contentTrs[t]:this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]')[t]),this.dataSourceObj.rows[t].checked&&u.hasClass(o,"u-grid-content-sel-row"))return!0;if(i=e&&e.multiSelectDivs?e.multiSelectDivs[t]:this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[t],"function"==typeof this.options.onBeforeRowSelected){var r={};if(r.gridObj=this,r.rowObj=this.dataSourceObj.rows[t],r.rowIndex=t,!this.options.onBeforeRowSelected(r)){if(this.options.multiSelect){var d=i.children[0];d.checked=!1}return!1}}if(this.options.multiSelect){if("grid"==this.showType){var d=i.children[0];$(d).addClass("is-checked")}}else this.selectRowsObj&&this.selectRowsObj.length>0&&$.each(this.selectRowsObj,function(){this.checked=!1}),this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,"grid"==this.showType&&($("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect div").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol div").removeClass("u-grid-content-sel-row"));if("grid"==this.showType){$(o).addClass("u-grid-content-sel-row"),n=e&&e.fixContentTrs?e.fixContentTrs[t]:this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]')[t],$(n).addClass("u-grid-content-sel-row");var a=t;this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&a++,this.options.multiSelect&&(a!=t&&(i=this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[a]),$(i).addClass("u-grid-content-sel-row")),this.options.showNumCol&&(s=e&&e.numColDivs?e.numColDivs[a]:this.$ele.find("#"+this.options.id+"_content_numCol").children()[a],$(s).addClass("u-grid-content-sel-row"))}if(this.selectRows.push(this.dataSourceObj.rows[t].value),this.selectRowsObj.push(this.dataSourceObj.rows[t]),this.selectRowsIndex.push(t),this.dataSourceObj.rows[t].checked=!0,this.isCheckedHeaderRow(),"function"==typeof this.defaultOnRowSelected){var r={};r.gridObj=this,r.rowObj=this.dataSourceObj.rows[t],r.rowIndex=t,this.defaultOnRowSelected(r)}if("function"==typeof this.options.onRowSelected){var r={};r.gridObj=this,r.rowObj=this.dataSourceObj.rows[t],r.rowIndex=t,this.options.onRowSelected(r)}return!0},_=function(t){var e=this;if(!this.dataSourceObj.rows[t])return!0;if(!this.dataSourceObj.rows[t].checked)return!0;if("function"==typeof this.options.onBeforeRowUnSelected){var i={};if(i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,!this.options.onBeforeRowUnSelected(i))return this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect input:eq("+t+")")[0].checked=!0),!1}this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect .u-grid-checkbox-outline:eq("+t+")").removeClass("is-checked");var o=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&o++,$("#"+this.options.id+"_content_tbody tr:eq("+o+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr:eq("+o+") a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+o+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+o+") a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+o+")").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+o+")").removeClass("u-grid-content-sel-row"),$.each(this.selectRows,function(i){this==e.dataSourceObj.rows[t].value&&(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1))}),this.dataSourceObj.rows[t].checked=!1,$("#"+this.options.id+"_header_multi_input").removeClass("is-checked"),"function"==typeof this.options.onRowUnSelected){var i={};i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,this.options.onRowUnSelected(i)}return e.isCheckedHeaderRow(),!0},y=function(){if($("#"+this.options.id+"_header_multi_input").addClass("is-checked"),"function"==typeof this.options.onBeforeAllRowSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowSelected(t))return}var e=this.$ele.find("#"+this.options.id+"_content_multiSelect").children(),i=this.$ele.find("#"+this.options.id+"_content_numCol").children(),o=this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]'),n=this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]');this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]');for(var s=0;s<this.dataSourceObj.rows.length;s++)this.setRowSelect(s,{multiSelectDivs:e,numColDivs:i,contentTrs:o,fixContentTrs:n});if("function"==typeof this.options.onAllRowSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowSelected(t)}},b=function(){if($("#"+this.options.id+"_header_multi_input").removeClass("is-checked"),"function"==typeof this.options.onBeforeAllRowUnSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowUnSelected(t))return}for(var e=0;e<this.dataSourceObj.rows.length;e++)this.setRowUnselect(e);if("function"==typeof this.options.onAllRowUnSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowUnSelected(t)}},x=function(t){if(this.dataSourceObj.rows[t].focus)return!0;if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowFocus(e))return!1}$("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect").find("div").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol").find("div").removeClass("u-grid-content-focus-row"),this.focusRowObj&&(this.focusRowObj.focus=!1),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row");var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.focusRow=this.dataSourceObj.rows[t].value,this.focusRowObj=this.dataSourceObj.rows[t],this.focusRowIndex=t,this.dataSourceObj.rows[t].focus=!0,"function"==typeof this.options.onRowFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowFocus(e)}return!0},R=function(t){if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowUnFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowUnFocus(e))return!1}if(!this.dataSourceObj.rows[t].focus)return!0;var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,$("#"+this.options.id+"_content_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.dataSourceObj.rows[t].focus=!1,this.focusRow=null,this.focusRowObj=null,this.focusRowIndex=null,"function"==typeof this.options.onRowUnFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowUnFocus(e)}return this.options.multiSelect||this.setRowUnselect(t),!0},S=function(){var t=$("#"+this.options.id+"_content_numCol >.u-grid-content-num");$.each(t,function(t){this.innerHTML=t+1+""})};e.isCheckedHeaderRow=i,e.addOneRow=o,e.addOneRowTree=n,e.addOneRowTreeHasChildF=s,e.editClose=r,e.addRows=d,e.createContentOneRowFixed=a,e.updateEditRowIndex=l,e.deleteOneRow=h,e.repairSumRow=c,e.deleteOneRowTree=p,e.deleteRows=f,e.updateRow=m,e.updateValueAt=w,e.updateValueAtTree=g,e.updateValueAtEdit=v,e.setRowSelect=C,e.setRowUnselect=_,e.setAllRowSelect=y,e.setAllRowUnSelect=b,e.setRowFocus=x,e.setRowUnFocus=R,e.resetNumCol=S},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(this.isGridShow()){if("undefined"==typeof t)var e=null,i=null,o="";else var e="undefined"==typeof t.begin?null:t.begin,i="undefined"==typeof t.length?null:t.length,o="undefined"==typeof t.field?"":t.field;var n=this,e=parseInt(e),i=parseInt(i),s=e;if(i>0&&(s=parseInt(e+i-1)),""==o)this.gridCompColumnFixedArr&&$.each(this.gridCompColumnFixedArr,function(t){n.renderTypeByColumn(this,t,e,i,!0)}),$.each(this.gridCompColumnArr,function(t){n.renderTypeByColumn(this,t,e,i,!1)});else{var r=!1;this.gridCompColumnFixedArr&&$.each(this.gridCompColumnFixedArr,function(t){if(this.options.field==o)return n.renderTypeByColumn(this,t,e,i,!0),void(r=!0)}),r||$.each(this.gridCompColumnArr,function(t){if(this.options.field==o)return void n.renderTypeByColumn(this,t,e,i,!1)})}}},o=function(t,e,i,o,n){var s=this,r=t.options.renderType,d=(t.options.sumCol,t.options.sumRenderType,t.options.dataType),a=t.options.precision,l=(t.options.format,t.options.field),h=i,c=n===!0?"_content_fixed_tbody":"_content_tbody",p=this.getVisibleIndexOfColumn(t);o>0&&(h=parseInt(i+o-1)),this.realtimeTableRows=document.getElementById(s.options.id+c).children;for(var f=-1,m=0;m<s.realtimeTableRows.length;m++)"row"!=s.realtimeTableRows[m].getAttribute("role")&&(f=m);$.each(s.dataSourceObj.rows,function(o){if(i>=0&&o>=i&&o<=h||isNaN(i)){s.editColIndex==p&&s.eidtRowIndex==o&&"default"==s.options.editType&&(s.editColIndex=-1,s.eidtRowIndex=-1);var n=o;f!=-1&&o>=f&&n++;var c=s.realtimeTableRows[n],m=c.children[e];if(s.iconSpan)var w=s.iconSpan;if(m){if(m.children[0].innerHTML.indexOf("u-grid-content-tree-span")!=-1)var g=m.children[0].children[1];else var g=m.children[0];if(g){var v=$(this.value).attr(l);if("function"==typeof r||"Date"==d||"Datetime"==d||"Int"==d||"Float"==d)if(g.innerHTML="","function"==typeof r){v=s.getString(v,"");var C={};C.value=v,C.element=g,C.gridObj=s,C.row=this,C.gridCompColumn=t,C.rowIndex=o,r.call(s,C)}else if("Date"==d||"Datetime"==d)null!=v&&void 0!=v&&"null"!=v&&"undefined"!=v&&""!=v||(v=""),v="Date"==d?u.dateRender(v):u.dateTimeRender(v),g.innerHTML=v,g.title=v;else if("Int"==d)v=parseInt(v),v?(g.innerHTML=v,g.title=v):(g.innerHTML="",g.title="");else if("Float"==d){if(a){var _={};_.value=v,_.precision=a,v=s.DicimalFormater(_)}else v=parseFloat(v);v?(g.innerHTML=v,g.title=v):(g.innerHTML="",g.title="")}else{v=s.getString(v,"");var y=v.replace(/\</g,"<");y=y.replace(/\>/g,">"),g.title=v,v=v.replace(/\</g,"&lt;"),v=v.replace(/\>/g,"&gt;"),g.innerHTML=v}else{v=s.getString(v,"");var y=v.replace(/\</g,"<");y=y.replace(/\>/g,">"),g.title=v,v=v.replace(/\</g,"&lt;"),v=v.replace(/\>/g,"&gt;"),0==e&&w&&(v=w+=v),g.innerHTML=v}var C={span:g,column:t},b=t.options.maxLength,x=!1;x=b&&b>0?g.innerHTML.length>b:s.getRenderOverFlag(C),x&&$(g).addClass("u-grid-content-td-div-over")}}}}),this.renderTypeSumRow(t,e,i,o,n)},n=function(t){var e=t.span,i=e.offsetHeight,o=(e.offsetWidth,$(e).clone()[0]),n=!1;t.span.parentNode.appendChild(o);var s=e.style.display;e.style.display="none",o.style.height="",o.style.maxHeight="999999px";var r=o.offsetHeight;return r>i&&(n=!0),t.span.parentNode.removeChild(o),e.style.display=s,n},s=function(t,e,i,o,n){};e.renderTypeFun=i,e.renderTypeByColumn=o,e.renderTypeSumRow=s,e.getRenderOverFlag=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){var i=this.getIndexOfColumn(t);this.setColumnVisibleByIndex(i,e)},o=function(t,e){if(t>=0){var i=this.gridCompColumnArr[t],o=this.getVisibleIndexOfColumn(i);if(0==i.options.visible&&e){var n="<col";i.options.width&&(n+=' style="width:'+this.formatWidth(i.options.width)+'"'),n+=">",$("#"+this.options.id+"_header th:eq("+t+")").css("display",""),$("#"+this.options.id+"_content th:eq("+t+")").css("display",""),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","");var s=this.getNextVisibleInidexOfColumn(i);if(s<1)try{$("#"+this.options.id+"_header col:last")[0].insertAdjacentHTML("afterEnd",n),$("#"+this.options.id+"_content col:last")[0].insertAdjacentHTML("afterEnd",n)}catch(t){$("#"+this.options.id+"_header col:last").after(n),$("#"+this.options.id+"_content col:last").after(n)}else try{$("#"+this.options.id+"_header col:eq("+(s-1)+")")[0].insertAdjacentHTML("beforeBegin",n),$("#"+this.options.id+"_content col:eq("+(s-1)+")")[0].insertAdjacentHTML("beforeBegin",n)}catch(t){$("#"+this.options.id+"_header col:eq("+(s-1)+")").before(n),$("#"+this.options.id+"_content col:eq("+(s-1)+")").before(n)}var r=this.contentWidth+parseInt(i.options.width)}if(1==i.options.visible&&!e){$("#"+this.options.id+"_header th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_header col:eq("+o+")").remove(),$("#"+this.options.id+"_content th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_content col:eq("+o+")").remove(),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","none");var r=this.contentWidth-parseInt(i.options.width)}i.options.visible=e,this.columnsVisibleFun();var d=this.contentWidthChange(r);this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.contentWidth=d,this.resetThVariable(),this.saveGridCompColumnArrToLocal()}},n=function(t,e){var i=this.getColumnByField(t);this.setColumnWidth(i,e)},s=function(t,e){if(e>this.minColumnWidth||e==this.minColumnWidth){var i=this.getVisibleIndexOfColumn(t),o=t.options.width,n=e-o,s=this.contentWidth+n;this.contentWidth=this.contentWidthChange(s),$("#"+this.options.id+"_header_table col:eq("+i+")").css("width",e+"px"),$("#"+this.options.id+"_content_table col:eq("+i+")").css("width",e+"px"),t.options.width=e,t.options.realWidth=e,this.resetThVariable(),this.saveGridCompColumnArrToLocal()}this.columnsVisibleFun()},r=function(t){this.$ele.data("gridComp")==this&&(this.initDataSourceVariable(),this.options.dataSource=t,this.initDataSource(),this.repairContent(),this.afterGridDivsCreate())},d=function(t){
var e={};if(t.values){var i=new Array;$.each(t.values,function(){if(t.fields){var e={},o=this;$.each(t.fields,function(t){$(e).attr(this,o[t])}),i.push(e)}})}$(e).attr("values",i),this.setDataSource(e)};e.setColumnVisibleByColumn=i,e.setColumnVisibleByIndex=o,e.setCoulmnWidthByField=n,e.setColumnWidth=s,e.setDataSource=r,e.setDataSourceFun1=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this;if($("#"+this.options.id)[0]){var e=$("#"+this.options.id)[0].offsetWidth;this.wholeWidth!=e&&this.$ele.data("gridComp")==this&&0!=e&&(this.wholeWidth=e,e>this.options.formMaxWidth&&("form"==this.showType||""==this.showType||!$("#"+this.options.id+"_content_div tbody")[0])||this.options.overWidthHiddenColumn||this.options.noScroll?t.widthChangeGridFun():e>0&&e<this.options.formMaxWidth&&("grid"==this.showType||""==this.showType),e>this.options.formMaxWidth&&(this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),setTimeout(function(){$("#"+t.options.id+"_header_wrap").css("max-width",t.wholeWidth+"px"),$("#"+t.options.id+"_content_div").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_noRowsShow").css("width",t.contentMinWidth+"px"),t.columnsVisibleFun(),t.contentRealWidth<t.contentMinWidth?t.contentWidth=t.contentMinWidth:t.contentWidth=t.contentRealWidth,$("#"+t.options.id+"_noRows").css("width",t.contentWidth+"px"),"function"==typeof t.options.afterCreate&&t.options.afterCreate.call(t)},300)),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_edit_form").css("width",t.contentMinWidth+"px"),this.preWholeWidth=e,this.resetLeftHeight())}},o=function(){var t=parseInt(this.wholeWidth/2);if(this.noScrollWidthReset(),this.widthChangeGridFunFixed(t),this.widthChangeGridFunOverWidthHidden(),this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),this.contentRealWidth<this.contentMinWidth){this.contentWidth=this.contentMinWidth;var e=this.lastVisibleColumn.options.width;this.lastVisibleColumnWidth=e+(this.contentMinWidth-this.contentRealWidth),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth}else this.contentWidth=this.contentRealWidth;this.createGridFlag=!1,this.createGridDivs(),$("#"+this.options.id+"_form").css("display","none"),$("#"+this.options.id+"_grid").css("display","block")},n=function(){if(this.options.noScroll){for(var t=0,e=0;e<this.gridCompColumnArr.length;e++){var i=this.gridCompColumnArr[e],o=i.options.optionsWidth+"",n=this.wholeWidth-this.leftW;if(o.indexOf("%")>0)var s=parseInt(o.replace("%","")*n/100);else var s=o;s<this.minColumnWidth&&(s=this.minColumnWidth),i.options.visible&&(t+=s),this.setColumnWidth(i,s)}this.hasNoScrollRest=!0}if(t>n){var r=this.lastVisibleColumn,d=r.options.width,a=d-(t-n);this.setColumnWidth(r,a)}},s=function(t){},r=function(){},d=function(){if(this.countContentHeight){var t=this.wholeHeight,e=$("#"+this.options.id)[0].offsetHeight;if(this.wholeHeight=e,t!=e&&e>0){var i=e-1-this.exceptContentHeight>0?e-1-this.exceptContentHeight:0;$("#"+this.options.id+"_content").css("height",i+"px"),$("#"+this.options.id+"_content_div").css("height",i+"px")}}},a=function(t){if(t<this.contentMinWidth){var e=parseInt(this.lastVisibleColumn.options.width);this.lastVisibleColumnWidth=e+(this.contentMinWidth-t),$("#"+this.options.id+"_header_table col:last").css("width",this.lastVisibleColumnWidth+"px"),$("#"+this.options.id+"_content_table col:last").css("width",this.lastVisibleColumnWidth+"px"),t=this.contentMinWidth}if(t>this.contentMinWidth){var i=this.overWidthVisibleColumnArr.length;if(i>0){for(var o=0;o<i;o++){var n=this.overWidthVisibleColumnArr[o],s=this.getVisibleIndexOfColumn(n),r=parseInt(n.options.width),d=n.options.realWidth;$("#"+this.options.id+"_header_table col:eq("+s+")").css("width",d+"px"),$("#"+this.options.id+"_content_table col:eq("+s+")").css("width",d+"px"),t-=r-d,n.options.width=n.options.realWidth}if(t<this.contentMinWidth){var e=parseInt(this.lastVisibleColumn.options.width);this.lastVisibleColumnWidth=e+(this.contentMinWidth-t),$("#"+this.options.id+"_header_table col:last").css("width",this.lastVisibleColumnWidth+"px"),$("#"+this.options.id+"_content_table col:last").css("width",this.lastVisibleColumnWidth+"px"),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,t=this.contentMinWidth}}t>this.contentMinWidth?($("#"+this.options.id+"_content_left_bottom").css("display","block"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",16)):($("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",0))}else $("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",0);return this.options.noScroll||($("#"+this.options.id+"_content_table").css("width",t+"px"),$("#"+this.options.id+"_noRows").css("width",t+"px")),t};e.widthChangeFun=i,e.widthChangeGridFun=o,e.widthChangeGridFunFixed=s,e.widthChangeGridFunOverWidthHidden=r,e.heightChangeFun=d,e.contentWidthChange=a,e.noScrollWidthReset=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i,o,n){if(null!=this.currentEventName&&this.currentEventName==t)e.call(this,i),this.currentEventName=null,this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName);else{var s=this;this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName),this.currentEventName=t,this.cleanCurrEventName=setTimeout(function(){s.currentEventName=null,o.call(s,n)},250)}},o=function(t){if("function"==typeof this.options.onDblClickFun){var e=$(t.target).closest("tr");if(e[0].id==this.options.id+"_edit_tr")return;var i=0;e.length>0&&(i=this.getTrIndex(e));var o={};o.gridObj=this,o.rowObj=this.dataSourceObj.rows[i],o.rowIndex=i,this.options.onDblClickFun(o)}},n=function(t){var e=this,i=$(t.target).closest("tr");if(!(i.length>0&&i[0].id==this.options.id+"_edit_tr")){var o=this.getTrIndex(i);if("function"==typeof this.options.onBeforeClickFun){var n={};if(n.gridObj=this,n.rowObj=this.dataSourceObj.rows[o],n.rowIndex=o,n.e=t,!this.options.onBeforeClickFun(n))return}if(this.clickFunTree(t),i.length>0){var s=e.dataSourceObj.rows[o];if(s){if(e.options.rowClickBan)return;this.clickFunEdit(t,o);e.getChildRowIndex(s);!e.options.contentFocus&&e.options.multiSelect||(e.dataSourceObj.rows[o].focus&&e.options.cancelFocus?e.setRowUnFocus(o):e.dataSourceObj.rows[o].focus||e.setRowFocus(o)),!e.options.contentSelect&&e.options.multiSelect||(e.dataSourceObj.rows[o].checked&&e.options.cancelSelect?e.setRowUnselect(o):e.dataSourceObj.rows[o].checked||e.setRowSelect(o))}}}},s=function(t){},r=function(t){};e.isDblEvent=i,e.dblClickFun=o,e.clickFun=n,e.clickFunTree=s,e.clickFunEdit=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return},o=function(){return},n=function(){var t=this,e=0;this.firstColumn=!0,this.overWidthVisibleColumnArr=new Array,$.each(this.gridCompColumnArr,function(){this.options.visible&&(e+=parseInt(this.options.width),this.options.width>this.options.realWidth&&t.overWidthVisibleColumnArr.push(this),this.firstColumn=t.firstColumn,t.firstColumn=!1,t.lastVisibleColumn=this,t.lastVisibleColumnWidth=this.options.width)}),this.contentRealWidth=e},s=function(){if("grid"==this.showType){var t=this;this.contentWidth=0,$("#"+this.options.id+"_header_table th",this.$ele).each(function(e){var i=t.gridCompColumnArr[e],o=0;i.options.visible&&(o=parseInt(i.options.width)),this.attrLeftTotalWidth=t.contentWidth,t.contentWidth+=o,t.resetThVariableDrag(this,i,o),this.gridCompColumn=i,this.attrWidth=o,this.attrRightTotalWidth=t.contentWidth}),t.resetThVariableHeaderLevel()}},r=function(t,e){},d=function(){},a=function(){$("#"+this.options.id+"_grid .u-grid-header-th-first").removeClass("u-grid-header-th-first"),$("#"+this.options.id+"_grid").find("th").eq(0).addClass("u-grid-header-th-first")},l=function(t,e){var i=this.getColumnByField(t);i.options.renderType=e;var o=this.getIndexOfColumn(i);this.renderTypeByColumn(i,o)},h=function(t){this.options.showHeader=t,t?$("#"+this.options.id+"_header").css("display","block"):$("#"+this.options.id+"_header").css("display","none")},u=function(t,e){var i=this.getColumnByField(t);i.options.precision=e,this.renderTypeFun(),this.options.showSumRow&&this.repairSumRow()},c=function(t){var e=this.options.multiSelect;e!=t&&(this.options.multiSelect=t,this.initGrid())},p=function(t){var e=this.options.showNumCol;e!=t&&(this.options.showNumCol=t,this.initGrid())},f=function(){return"grid"==this.showType},m=function(t){return"true"===t||t===!0};e.updateLastRowFlag=i,e.updateNumColLastRowFlag=o,e.columnsVisibleFun=n,e.resetThVariable=s,e.resetThVariableDrag=r,e.resetThVariableHeaderLevel=d,e.headerFirstClassFun=a,e.setRenderType=l,e.setShowHeader=h,e.setColumnPrecision=u,e.setMultiSelect=c,e.setShowNumCol=p,e.isGridShow=f,e.getBoolean=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDataTableRowIdByRow=e.getTrIndex=e.accAdd=e.DicimalFormater=e.cloneObj=e.getFloat=e.getInt=e.getString=e.swapEle=e.formatWidth=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=i(5),s=function(t){return t?(t+"").indexOf("%")>0?t:parseInt(t)+"px":""},r=function(t,e){var i=t.next(),o=e.prev();e.insertBefore(i),t.insertAfter(o)},d=function(t,e){return null!==t&&void 0!==t&&"null"!==t&&"undefined"!==t&&""!==t||(t=e),n.gridBrowser.isIE8?[t].join(""):t+""},a=function(t,e){return(null===t||void 0===t||"null"===t||"undefined"===t||""===t||isNaN(t))&&(t=e),t},l=function(t,e){return(null===t||void 0===t||"null"===t||"undefined"===t||""===t||isNaN(t))&&(t=e),t},h=function(t){var e;if("object"==("undefined"==typeof t?"undefined":o(t)))if(null===t)e=null;else if(t instanceof Array){e=[];for(var i=0,n=t.length;i<n;i++)e.push(this.cloneObj(t[i]))}else{e={};for(var s in t)e[s]=this.cloneObj(t[s])}else e=t;return e},u=function(t){for(var e=t.value+"",i=t.precision,o=0;o<e.length;o++)if("-0123456789.".indexOf(e.charAt(o))==-1)return"";return c(e,i)},c=function(t,e){if(null==t||isNaN(t))return"";var i=parseFloat(t),o=(i*Math.pow(10,e)/Math.pow(10,e)).toFixed(e);return"NaN"==o?"":o},p=function(t,e){var i,o,n;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return n=Math.pow(10,Math.max(i,o)),(t*n+e*n)/n},f=function(t){return $('tr[id!="'+this.options.id+'_edit_tr"]',t.parent()).index(t)},m=function(t){return t.value["$_#_@_id"]};String.prototype.substrCH=function(t){for(var e=0,i=0;e<t&&i<this.length;){var o=this.charCodeAt(i);if(o>256&&e==t-1)break;e+=o>256?2:1,i+=1}return this.substr(0,i)},e.formatWidth=s,e.swapEle=r,e.getString=d,e.getInt=a,e.getFloat=l,e.cloneObj=h,e.DicimalFormater=u,e.accAdd=p,e.getTrIndex=f,e.getDataTableRowIdByRow=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colMenu_initGridEventFun=e.colMenu_initEventFun=e.re_createColumnMenu=e.colMenu_initGridCompColumn=e.re_initGridCompColumnColumnMenuFun=void 0;var o=(i(4),i(13),function(t){var e=new this.gridCompColumn(t,this);e.options.realWidth=e.options.width,this.basicGridCompColumnArr.push(e)}),n=function(){this.menuColumnsHeight=this.gridCompColumnArr.length*this.columnMenuHeight},s=function(){var t=this,e='<div class="u-grid-column-menu" id="'+this.options.id+'_column_menu">';return e+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-ul" id="'+this.options.id+'_column_menu_ul">',e+='<li class="u-grid-column-menu-li" role="menuitem">',e+='<div class="u-grid-column-menu-div1" id="'+this.options.id+'_clearSet">',e+='<span class="u-grid-column-menu-span">'+this.transMap.ml_clear_set+"</span>",e+="</div></li>",e+='<div class="u-grid-column-menu-columns" id="'+this.options.id+'_column_menu_columns">',e+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-columns-ul" id="'+this.options.id+'_column_menu_columns_ul">',$.each(this.gridCompColumnArr,function(i){if(""!=t.getString(this.options.title,"")){e+='<li class="u-grid-column-menu-columns-li" role="menuitem" index="'+i+'">',e+='<div class="u-grid-column-menu-columns-div1">';var o="";this.options.visible&&(o=" checked"),this.options.canVisible||(o+=' style="display:none;"'),e+='<div class="u-grid-column-menu-columns-div2"><input type="checkbox" '+o+"><label></label></div>",e+='<span class="u-grid-column-menu-columns-span">'+this.options.title+"</span>",e+="</div></li>"}}),e+="</ul></div>",e+="</ul></div>"},r=function(){var t=this;$("#"+this.options.id).on("mouseup",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){if(t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.mouseDownX==t.mouseUpX&&t.mouseDownY==t.mouseUpY){t.columnClickX=e.clientX,t.columnClickY=e.clientY;$(e.target).closest("th")[0];if($(e.target).hasClass("u-grid-header-columnmenu")){$("#"+t.options.id+"_column_menu").css("display","block");var i=e.clientX-160;i<0&&(i=0);var o=e.clientY+10;$("#"+t.options.id+"_column_menu").css("left",i),$("#"+t.options.id+"_column_menu").css("top",o);var n=($(window).width(),$(window).height()),s=t.menuColumnsHeight;t.menuColumnsHeight+o+34>n?(s=n-o-34,$("#"+t.options.id+"_column_menu_columns").css("height",s+"px")):$("#"+t.options.id+"_column_menu_columns").css("height",""),t.ele.createColumnMenuFlag=!0}}}else $(e.target).closest("#"+t.options.id+"_content").length>0}),$(document).on("click",function(){0==t.columnMenuMove&&0==t.ele.createColumnMenuFlag&&t.ele.offsetWidth>0&&$("#"+t.options.id+"_column_menu").css("display","none"),t.ele.createColumnMenuFlag=!1}),$(document).on("scroll",function(){0==t.columnMenuMove&&0==t.ele.createColumnMenuFlag&&t.ele.offsetWidth>0&&$("#"+t.options.id+"_column_menu").css("display","none"),t.ele.createColumnMenuFlag=!1})},d=function(){var t=this;$("#"+this.options.id+"_column_menu_ul").off("mousemove"),$("#"+this.options.id+"_column_menu_ul").on("mousemove",function(e){t.columnMenuMove=!0}),$("#"+this.options.id+"_column_menu_ul").off("mouseout"),$("#"+this.options.id+"_column_menu_ul").on("mouseout",function(e){t.columnMenuMove=!1}),$("#"+this.options.id+"_clearSet").off("click"),$("#"+this.options.id+"_clearSet").on("click",function(e){t.clearLocalData(),t.initGridCompColumn(),t.hasNoScrollRest=!1,t.noScrollWidthReset(),t.dataSourceObj.sortRows(),t.repaintGridDivs(),"function"==typeof t.options.onClearSetFun&&t.options.onClearSetFun(t)}),$("#"+this.options.id+"_column_menu_columns_ul li input").off("click"),$("#"+this.options.id+"_column_menu_columns_ul li input").on("click",function(e){var i=$(this).closest("li").attr("index");if(t.gridCompColumnArr[i].options.visible){$(this)[0].checked=!1;var o=$("input:checked",$("#"+t.options.id+"_column_menu_columns_ul")).length;if(0==o)return void($(this)[0].checked=!0);if(8==document.documentMode){var n=$("#"+t.options.id+"_column_menu_columns")[0].scrollTop,s=$("#"+t.options.id+"_column_menu")[0].style.top,r=$("#"+t.options.id+"_column_menu")[0].style.left;t.gridCompColumnArr[i].options.visible=!1,t.repaintGridDivs(),$("#"+t.options.id+"_column_menu").css("display","block"),$("#"+t.options.id+"_column_menu").css("left",r),$("#"+t.options.id+"_column_menu").css("top",s),$("#"+t.options.id+"_column_menu_columns")[0].scrollTop=n}else t.setColumnVisibleByIndex(i,!1),t.gridCompColumnArr[i].options.visible=!1}else if($(this)[0].checked=!0,8==document.documentMode){var n=$("#"+t.options.id+"_column_menu")[0].scrollTop,s=$("#"+t.options.id+"_column_menu")[0].style.top,r=$("#"+t.options.id+"_column_menu")[0].style.left;t.gridCompColumnArr[i].options.visible=!0,t.repaintGridDivs(),$("#"+t.options.id+"_column_menu").css("display","block"),$("#"+t.options.id+"_column_menu").css("left",r),$("#"+t.options.id+"_column_menu").css("top",s),$("#"+t.options.id+"_column_menu_columns")[0].scrollTop=n}else t.setColumnVisibleByIndex(i,!0),t.gridCompColumnArr[i].options.visible=!0;t.saveGridCompColumnArrToLocal(),e.stopPropagation()}),$("#"+this.options.id+"_column_menu_columns_ul li").off("click"),$("#"+this.options.id+"_column_menu_columns_ul li").on("click",function(t){var e=$(this).find("input");e.click()})};e.re_initGridCompColumnColumnMenuFun=o,e.colMenu_initGridCompColumn=n,e.re_createColumnMenu=s,e.colMenu_initEventFun=r,e.colMenu_initGridEventFun=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.re_resetThVariableDrag=e.headerThDrag=e.dragEnd=e.dragFun=e.dragStart=e.drag_initGridEventFun=e.drag_initEventFun=e.re_createHeaderDrag=void 0;var o=(i(4),function(){return'<div class="u-grid-header-resize-handle" id="'+this.options.id+'_resize_handle"><div class="u-grid-header-resize-handle-inner"></div></div>'}),n=function(){var t=this;$("#"+this.options.id).on("mousemove",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){var i=$(e.target).closest("th")[0];t.headerThDrag(e,i)}t.dragFun(e),e.stopPropagation()}),$("#"+this.options.id+"_top").on("mousemove",function(e){t.dragFun(e),e.stopPropagation()}),$("#"+this.options.id).on("mouseup",function(e){t.dragEnd(e)}),$("#"+this.options.id+"_top").on("mouseup",function(e){t.dragEnd(e)})},s=function(){var t=this;$("#"+this.options.id+"_resize_handle").on("mousedown",function(e){return t.dragStart(e),!1})},r=function(t){this.dragFlag=!0,this.dragW=null,this.dragStartX=t.clientX},d=function(t){if(this.dragFlag){var e=$("#"+this.options.id+"_resize_handle")[0].nowTh,i=$(e),o=i.attr("index"),n=this.gridCompColumnArr[o],s=this.getVisibleIndexOfColumn(n);if(e&&n!=this.lastVisibleColumn){this.dragEndX=t.clientX;var r=parseInt(this.dragEndX)-parseInt(this.dragStartX),d=parseInt(e.attrWidth)+parseInt(r),a=parseInt(this.contentWidth)+parseInt(r);if(d>this.minColumnWidth){if(this.options.noScroll){var l=this.getNextVisibleInidexOfColumn(n);if(l>-1){var h=this.getColumnByVisibleIndex(l);(!this.dragNextClomunWidth||this.dragNextClomunWidth<0)&&(this.dragNextClomunWidth=h.options.width)}var u=parseInt(this.dragNextClomunWidth)-parseInt(r);if(!(u>this.minColumnWidth))return void $("#"+this.options.id+"_top").css("display","block")}this.options.noScroll||(this.dragW=this.contentWidthChange(a)),$("#"+this.options.id+"_header_table col:eq("+s+")").css("width",d+"px"),$("#"+this.options.id+"_content_table col:eq("+s+")").css("width",d+"px"),n.options.width=d,n.options.realWidth=d,this.options.noScroll&&($("#"+this.options.id+"_header_table col:eq("+l+")").css("width",u+"px"),$("#"+this.options.id+"_content_table col:eq("+l+")").css("width",u+"px"),h.options.width=u,h.options.realWidth=u)}}$("#"+this.options.id+"_top").css("display","block")}},a=function(t){this.dragFlag&&(this.resetThVariable(),this.saveGridCompColumnArrToLocal()),this.dragNextClomunWidth=-1,this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.dragW&&(this.contentWidth=this.dragW),$("#"+this.options.id+"_resize_handle")[0].nowTh=null,this.dragFlag=!1,$("#"+this.options.id+"_top").css("display","none")},l=function(t,e){if(!this.dragFlag&&!this.swapColumnFlag&&e&&e.gridCompColumn&&e.gridCompColumn.options.canDrag&&$("#"+this.options.id+"_resize_handle")[0].nowTh!=e){$(e);$("#"+this.options.id+"_resize_handle").css("left",e.attrRightTotalWidth-this.scrollLeft-4+this.leftW+this.fixedWidth),$("#"+this.options.id+"_resize_handle")[0].nowTh=e}},h=function(t,e,i){!$("#"+this.options.id+"_resize_handle")[0].nowTh&&e.options.canDrag&&($("#"+this.options.id+"_resize_handle").css("left",i-4+this.leftW),$("#"+this.options.id+"_resize_handle")[0].nowTh=t)};e.re_createHeaderDrag=o,e.drag_initEventFun=n,e.drag_initGridEventFun=s,e.dragStart=r,e.dragFun=d,e.dragEnd=a,e.headerThDrag=l,e.re_resetThVariableDrag=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formEditCell=e.re_editorRowChangeFun=e.editForm_setRequired=e.editForm_initDefault=void 0;var o=(i(13),function(){this.defaults=$.extend(!0,{},this.defaults,{noneEditableFormShow:!0})}),n=function(t,e){var i=this;$.each(this.gridCompColumnArr,function(o){this.options.field==t&&(this.options.required=e,e?$("#"+i.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").show():$("#"+i.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").hide())})},s=function(){if($("#"+this.options.id+"_edit_form").length>0){var t=$("#"+this.options.id+"_edit_form")[0].offsetHeight;$("#"+this.options.id+"_numCol_edit").css("height",t),$("#"+this.options.id+"_multiSelect_edit").css("height",t)}},r=function(t,e,i,o,n){var s=i+"";s.lengthb()>28&&(s=s.substrCH(26)+"...");var r='<div class="u-grid-edit-whole-div"><div class="u-grid-edit-label"><div title="'+i+'" style="color:'+n+'">'+s+'<span style="color:red;'+(o?"":"display: none")+'" class="u-grid-edit-mustFlag">*</span></div></div>';return r+='<div id="'+this.options.id+"_edit_"+e+'" class="u-grid-edit-div"></div>',r+="</div>"};e.editForm_initDefault=o,e.editForm_setRequired=n,e.re_editorRowChangeFun=s,e.formEditCell=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.re_widthChangeGridFunFixed=e.re_createContentOneRowFixed=e.re_createContentTableFixed=e.re_createHeaderTableFixed=e.fixed_columnsVisibleFun=e.re_initGridCompFixedColumn=void 0;var o=(i(20),function(){var t=this;$.each(this.gridCompColumnArr,function(e){1==this.options.fixed&&t.gridCompColumnFixedArr.push(this)}),$.each(this.gridCompColumnFixedArr,function(e){for(var e=t.gridCompColumnArr.length;e>-1;e--)if(t.gridCompColumnArr[e]==this){t.gridCompColumnArr.splice(e,1);break}})}),n=function(){var t=this,e=0;$.each(this.gridCompColumnFixedArr,function(){this.options.visible&&(e+=parseInt(this.options.width),this.firstColumn=t.firstColumn,t.firstColumn=!1)}),this.fixedRealWidth=e},s=function(){return this.createHeaderTable("fixed")},r=function(){return this.createContentTable("fixed")},d=function(t){return this.createContentOneRow(t,"fixed")},a=function(t){this.fixedRealWidth>t?this.fixedWidth=t:this.fixedWidth=this.fixedRealWidth};e.re_initGridCompFixedColumn=o,e.fixed_columnsVisibleFun=n,e.re_createHeaderTableFixed=s,e.re_createContentTableFixed=r,e.re_createContentOneRowFixed=d,e.re_widthChangeGridFunFixed=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){if(!this.createFormFlag){var t='<div id="'+this.options.id+'_form" class="u-grid-form">';t+=this.createFromContent(),$("#"+this.options.id)[0].insertAdjacentHTML("afterBegin",t),this.createFormFlag=!0}},o=function(){var t='<div class="u-grid-form-content" id="'+this.options.id+'_form_content" class="u-grid-content">';return t+='<table role="grid" id="'+this.options.id+'_form_content_table">',t+=this.createFormContentRows(),t+="</table>"},n=function(){var t=this,e="";return this.dataSourceObj.rows&&(e+='<tbody role="rowgroup" id="'+this.options.id+'_form_content_tbody">',$.each(this.dataSourceObj.rows,function(){e+='<tr role="row"><td role="rowcell">';var i=this.value;$.each(t.gridCompColumnArr,function(){var t=this.options.field,o=this.options.title,n=$(i).attr(t);e+="<div>"+o+":</div>",e+="<div>"+n+"</div>"}),e+="</td></tr>"}),e+="</tbody>"),e},s=function(){this.createFromDivs(),$("#"+this.options.id+"_grid").css("display","none"),$("#"+this.options.id+"_form").css("display","block"),this.showType="form","function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this)};e.createFromDivs=i,e.createFromContent=o,e.createFormContentRows=n,e.widthChangeFormFun=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e="",i=0;$("#"+this.options.id+"_header_table th",this.$ele).each(function(o){var n=t.gridCompColumnArr[o],s=t.getString(n.options.parentHeader,""),r=0;if(n.options.visible&&(r=parseInt(n.options.width)),""!=e&&s!=e&&$("#"+t.options.id+e).css("width",i-1+"px"),""!=s){var d=t.getLevelTitleByField(s);if(s!=e&&(i=0,!t.parentFlag)){var a='<div id="'+t.options.id+s+'" class="u-gird-parent"><div class="u-grid-header-link" title="'+d+'">'+d+"</div></div>";this.insertAdjacentHTML("afterBegin",a)}i+=r}e=s}),""!=e&&$("#"+t.options.id+e).css("width",i-1+"px"),this.parentFlag=!0},o=function(t){if(t.headerLevel>1){this.gridCompLevelColumn.push(t);var e=this.gridCompColumnArr.length;this.gridCompColumnArr.length=e-1,this.basicGridCompColumnArr&&this.basicGridCompColumnArr.length>0&&(this.basicGridCompColumnArr.length=e-1)}},n=function(){if(this.options.overWidthHiddenColumn){this.gridCompHiddenLevelColumnArr=this.gridCompColumnArr.slice(0),this.gridCompHiddenLevelColumnArr.sort(function(t,e){var i=t.options.hiddenLevel,o=e.options.hiddenLevel;return i>o?-1:1})}},s=function(t){for(var e=0;e<this.gridCompLevelColumn.length;e++){var i=this.gridCompLevelColumn[e].field;if(i==t)return this.gridCompLevelColumn[e].title}return""};e.re_resetThVariableHeaderLevel=i,e.re_initGridCompColumnHeaderLevelFun=o,e.initGridHiddenLevelColumn=n,e.getLevelTitleByField=s},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var re_initGridCompColumnLoacl=function(){var t=this,e=this.getGridCompColumnArrFromLocal();null!=e&&(this.gridCompColumnArr=e,$.each(this.gridCompColumnArr,function(){for(var e=this.options.field,i=0;i<t.options.columns.length;i++){var o=t.options.columns[i];if(o.field==e){var n=$.extend({},o,this.options);this.options=n,this.options.realWidth=this.options.width;break}}}))},getLocalData=function getLocalData(){if(!this.options.needLocalStorage)return null;if(null==window.localStorage)return null;if(null!=this.$sd_storageData)return this.$sd_storageData;if(null==window.localStorage.getItem(this.localStorageId))try{window.localStorage.setItem(this.localStorageId,"{}")}catch(t){return null}var storageDataStr=window.localStorage.getItem(this.localStorageId);return"undefined"==typeof JSON?this.$sd_storageData=eval("("+storageDataStr+")"):this.$sd_storageData=JSON.parse(storageDataStr),this.$sd_storageData},saveLocalData=function(){if(!this.options.needLocalStorage)return null;var t=this;this.saveSettimeout&&clearTimeout(this.saveSettimeout),this.saveSettimeout=setTimeout(function(){if(null!=t.$sd_storageData&&null!=window.localStorage){var e=JSON.stringify(t.$sd_storageData);try{window.localStorage.setItem(t.localStorageId,e)}catch(t){}}},200)},clearLocalData=function(){return this.options.needLocalStorage?(this.saveSettimeout&&clearTimeout(this.saveSettimeout),window.localStorage.setItem(this.localStorageId,"{}"),void(this.$sd_storageData={})):null},saveGridCompColumnArrToLocal=function(){if(!this.options.needLocalStorage)return null;var t=this.getLocalData();t.gridCompColumnArr=this.gridCompColumnArr.concat(this.gridCompColumnFixedArr),this.saveLocalData()},getGridCompColumnArrFromLocal=function(){if(!this.options.needLocalStorage)return null;var t=this.getLocalData();return null==t?null:null==t.gridCompColumnArr?null:t.gridCompColumnArr};exports.re_initGridCompColumnLoacl=re_initGridCompColumnLoacl,exports.getLocalData=getLocalData,exports.saveLocalData=saveLocalData,exports.clearLocalData=clearLocalData,exports.saveGridCompColumnArrToLocal=saveGridCompColumnArrToLocal,exports.getGridCompColumnArrFromLocal=getGridCompColumnArrFromLocal},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){if(this.options.overWidthHiddenColumn){this.gridCompHiddenLevelColumnArr=this.gridCompColumnArr.slice(0),this.gridCompHiddenLevelColumnArr.sort(function(t,e){var i=t.options.hiddenLevel,o=e.options.hiddenLevel;return i>o?-1:1})}},o=function(){if(this.options.overWidthHiddenColumn){this.lastVisibleColumn.options.width=this.lastVisibleColumn.options.realWidth;var t=parseInt(this.wholeWidth)-parseInt(this.leftW),e=parseInt(this.fixedWidth)+parseInt(this.contentRealWidth);if(e>t){for(var i=0;i<this.gridCompHiddenLevelColumnArr.length;i++){var o=this.gridCompHiddenLevelColumnArr[i];if(o.options.visible&&(o.options.visible=!1,e=parseInt(e)-parseInt(o.options.width)),!(e>t))break}this.columnsVisibleFun()}else{for(var i=this.gridCompHiddenLevelColumnArr.length-1;i>-1;i--){var o=this.gridCompHiddenLevelColumnArr[i];if(!o.options.visible){if(e=parseInt(e)+parseInt(o.options.width),e>t)break;o.options.visible=!0}}this.columnsVisibleFun()}}};e.re_initGridHiddenLevelColumn=i,e.re_widthChangeGridFunOverWidthHidden=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e="";return this.options.showSumRow&&this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0&&(e+=this.createSumRow(t)),e},o=function(t){var e="";return e},n=function(t){if(this.options.showSumRow){var e,i,o=this;"fixed"==t?(e="fixed_",i=this.gridCompColumnFixedArr):(e="",i=this.gridCompColumnArr);var n=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;n=n>0?n:0;var s='<tr role="row" class="u-grid-content-sum-row" id="'+this.options.id+"_content_"+e+'sum_row" style="top:'+n+'px;">';return $.each(i,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,n=o.dataSourceObj.getSumValue(t,this,o);if("float"==i){var r={};r.value=n,r.precision=e?e:2,n=o.DicimalFormater(r)}var d="";this.options.visible||(d='style="display:none;"'),s+='<td role="rowcell" title="'+n+'" '+d+">",this.firstColumn&&(s+='<div class="u-gird-centent-sum-div"><span>'+o.transMap.ml_sum+"</span></div>");var a="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(a='style="text-align: right;"'),s+='<div class="u-grid-content-td-div" '+a+'><span value="'+n+'">'+n+"</span></div></td>"}),s+="</tr>"}},s=function(t,e){if(this.options.showSumRow){var i,o,n=this;"fixed"==e?(i="fixed_",o=this.gridCompColumnFixedArr):(i="",o=this.gridCompColumnArr);var s=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;s=s>0?s:0;var r=t.insertRow();r.row="row",r.className="u-grid-content-sum-row",r.id=this.options.id+"_content_"+i+"sum_row",r.style.top=s+"px",$.each(o,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,o=n.dataSourceObj.getSumValue(t,this,n);if("float"==i){var s={};s.value=o,s.precision=e?e:2,o=n.DicimalFormater(s)}var d=r.insertCell();d.role="rowcell",d.title=o;var a="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(a='style="text-align: right;"');var l='<div class="u-grid-content-td-div" '+a+">";this.firstColumn&&(l+='<div class="u-gird-centent-sum-div"><span>'+n.transMap.ml_sum+"</span></div>"),l+='<span value="'+o+'">'+o+"</span></div>",d.insertAdjacentHTML("afterBegin",l)})}},r=function(){var t=this;this.re_repairSumRowSetTimeout&&clearTimeout(this.re_repairSumRowSetTimeout),this.re_repairSumRowSetTimeout=setTimeout(function(){d.call(t)},100)},d=function(){if(this.options.showSumRow){$("#"+this.options.id+"_content_div tbody .u-grid-content-sum-row").remove(),$("#"+this.options.id+"_content_fixed_div tbody .u-grid-content-sum-row").remove();try{if(this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0){var t=this.createSumRow();$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",t);var t=this.createSumRow("fixed");$("#"+this.options.id+"_content_fixed_div tbody")[0]&&$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",t)}}catch(t){var e=$("#"+this.options.id+"_content_div table")[0];$("#"+this.options.id+"_content_fixed_div table")[0];this.createSumRowForIE(e),
this.createSumRowForIE(e,"fixed")}this.renderSumRow()}},a=function(){var t=this;$.each(this.gridCompColumnFixedArr,function(e){var i=this.options.sumCol,o=this.options.sumRenderType,n="fixed_";if(i){var s=$("#"+t.options.id+"_content_"+n+"sum_row").find("td").eq(e).find("span"),r=s[s.length-1];if(r)if("function"==typeof o){var d=$(r).attr("value"),a={};a.value=d,a.element=r,a.gridObj=t,a.gridCompColumn=this,o.call(t,a)}else"integer"!=dataType&&"float"!=dataType||(r.style.textAlign="right")}}),$.each(this.gridCompColumnArr,function(e){var i=this.options.sumCol,o=this.options.dataType,n=this.options.sumRenderType,s="";if(i){var r=$("#"+t.options.id+"_content_"+s+"sum_row").find("td").eq(e).find("span"),d=r[r.length-1];if(d)if("function"==typeof n){var a=$(d).attr("value"),l={};l.value=a,l.element=d,l.gridObj=t,l.gridCompColumn=this,n.call(t,l)}else"integer"!=o&&"float"!=o||(d.style.textAlign="right")}})},l=function(t,e,i,o,n){var s=this,r=t.options.sumCol,d=t.options.sumRenderType,a=t.options.dataType,l=n===!0?"fixed_":"";if(r){var h=$("#"+this.options.id+"_content_"+l+"sum_row").find("td").eq(e).find("span"),u=h[h.length-1];if(u)if("function"==typeof d){var c=$(u).attr("value"),p={};p.value=c,p.element=u,p.gridObj=s,p.gridCompColumn=t,d.call(s,p)}else"integer"!=a&&"float"!=a||(u.style.textAlign="right")}};e.re_createContentRowsSumRow=i,e.re_createContentSumRow=o,e.createSumRow=n,e.createSumRowForIE=s,e.re_repairSumRow=r,e.renderSumRow=a,e.re_renderTypeSumRow=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.swapColumnEnd=e.swapColumnFun=e.swapColumnStart=e.swap_initGridEventFun=e.swap_initEventFun=void 0;var o=(i(4),function(){var t=this;$("#"+this.options.id).on("mousedown",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){var i=$(e.target).closest("th")[0];t.options.canSwap&&t.swapColumnStart(e,i),e.preventDefault()}else $(e.target).closest("#"+t.options.id+"_content").length>0}),$("#"+this.options.id).on("mousemove",function(e){t.mouseMoveX=e.clientX,t.mouseMoveY=e.clientY,t.mouseMoveX==t.mouseDownX&&t.mouseDownY==t.mouseMoveY||"mouseDownX"==t.mouseDownX||!t.options.canSwap||(t.swapColumnFlag=!0),t.swapColumnFun(e),e.stopPropagation()}),$("#"+this.options.id+"_top").on("mousemove",function(e){t.mouseMoveX=e.clientX,t.mouseMoveY=e.clientY,t.mouseMoveX==t.mouseDownX&&t.mouseDownY==t.mouseMoveY||"mouseDownX"==t.mouseDownX||!t.options.canSwap||(t.swapColumnFlag=!0),t.swapColumnFun(e),e.stopPropagation()}),$("#"+this.options.id).on("mouseup",function(e){t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.swapColumnEnd(e),t.mouseUpX="mouseUpX",t.mouseUpY="mouseUpY",t.mouseDownX="mouseDownX",t.mouseDownY="mouseDownY",t.mouseMoveX="mouseMoveX",t.mouseMoveY="mouseMoveY"}),$("#"+this.options.id+"_top").on("mouseup",function(e){t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.swapColumnEnd(e),t.mouseUpX="mouseUpX",t.mouseUpY="mouseUpY",t.mouseDownX="mouseDownX",t.mouseDownY="mouseDownY",t.mouseMoveX="mouseMoveX",t.mouseMoveY="mouseMoveY"})}),n=function(){},s=function(t,e){this.options.canSwap&&(this.swapColumnEle=e,this.swapColumnStartX=t.clientX,this.swapColumnStartY=t.clientY)},r=function(t){if(this.options.canSwap){var e=this;if(this.swapColumnFlag){var i=this.swapColumnEle;if(!i)return;var o=$(i);if(!i.gridCompColumn)return;var n=i.gridCompColumn;if(0==$("#"+this.options.id+"_clue").length){var s=$('<div class="u-grid u-grid-header-drag-clue" id="'+this.options.id+'_clue" />').css({width:i.scrollWidth+"px",left:i.attrLeftTotalWidth-e.scrollLeft+e.leftW+e.fixedWidth+"px",top:"0px",paddingLeft:o.css("paddingLeft"),paddingRight:o.css("paddingRight"),lineHeight:o.height()+"px",paddingTop:o.css("paddingTop"),paddingBottom:o.css("paddingBottom")}).html(n.options.title||n.options.field).prepend('<span class="uf uf-bancirclesymbol u-grid-header-drag-status" />');try{$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",s[0])}catch(t){$("#"+this.options.id)[0].insertBefore(s[0],$("#"+this.options.id)[0].firstChild)}s.on("mousemove",function(){t.stopPropagation()})}this.swapColumnEndX=t.clientX,this.swapColumnEndY=t.clientY;var r=this.swapColumnEndX-this.swapColumnStartX,d=this.swapColumnEndY-this.swapColumnStartY;if($("#"+this.options.id+"_clue").css({left:i.attrLeftTotalWidth+r-e.scrollLeft+e.leftW+e.fixedWidth+"px",top:d+"px"}),0==$("#"+this.options.id+"_swap_top").length){var s=$('<span class="uf uf-sortdown u-grid-header-swap-tip-span"  id="'+this.options.id+'_swap_top"/>');s.css({top:o.height()-6+"px"});var a=$('<span class="uf uf-sortup u-grid-header-swap-tip-span" id="'+this.options.id+'_swap_down" />');a.css({top:"6px"});try{$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",s[0]),$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",a[0])}catch(t){$("#"+this.options.id)[0].insertBefore(s[0],$("#"+this.options.id)[0].firstChild),$("#"+this.options.id)[0].insertBefore(a[0],$("#"+this.options.id)[0].firstChild)}}this.canSwap=!1,$("#"+this.options.id+"_header_table th").each(function(i){var o=$(this).offset().left,n=o+parseInt(this.attrWidth);if(0==i&&t.clientX<o)e.swapColumnEle!=this&&(e.swapToColumnEle="LeftEle",$("#"+e.options.id+"_swap_top").css({left:-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"}),$("#"+e.options.id+"_swap_down").css({left:-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"})),e.canSwap=!0;else if(o<t.clientX&&t.clientX<n&&e.swapColumnEle!=this&&parseInt($(this).attr("index"))+1!=parseInt($(e.swapColumnEle).attr("index")))return e.swapToColumnEle!=this&&(e.swapToColumnEle=this,$("#"+e.options.id+"_swap_top").css({left:this.attrRightTotalWidth-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"}),$("#"+e.options.id+"_swap_down").css({left:this.attrRightTotalWidth-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"})),e.canSwap=!0,!1}),this.canSwap?$(".u-grid-header-drag-status").removeClass("uf-bancirclesymbol").addClass("uf-plussigninablackcircle"):($("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none"),$(".u-grid-header-drag-status").removeClass("uf-plussigninablackcircle").addClass("uf-bancirclesymbol"),this.swapToColumnEle=null),$("#"+this.options.id+"_top").css("display","block")}}},d=function(t){if(this.options.canSwap){if(this.swapColumnFlag){if(this.swapToColumnEle){var e=this.swapColumnEle,i=this.swapToColumnEle,o=$(e).attr("index"),n=$(i).attr("index"),s=this.gridCompColumnArr[o];this.gridCompColumnArr.splice(parseInt(n)+1,0,s),o<n?this.gridCompColumnArr.splice(o,1):this.gridCompColumnArr.splice(parseInt(o)+1,1),this.saveGridCompColumnArrToLocal(),this.repaintGridDivs()}$("#"+this.options.id+"_clue").remove(),$("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none")}this.swapColumnFlag=!1,$("#"+this.options.id+"_top").css("display","none")}};e.swap_initEventFun=o,e.swap_initGridEventFun=n,e.swapColumnStart=s,e.swapColumnFun=r,e.swapColumnEnd=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRowDrag=e.rowDragEnd=e.rowDragFun=e.rowDragStart=e.rowDrag_initGridEventFun=void 0;var o=(i(4),function(){var t=this;$("#"+this.options.id+"_content_tbody").on("mousedown",function(e){var i=$(e.target).closest("tr"),o=$(e.target).closest("tr").hasClass("grid_edit_form_tr");if(i.length>0&&!o){var n=$(e.target).closest("tr")[0];t.options.canRowDrag&&t.rowDragStart(e,n),e.preventDefault()}}),$("#"+this.options.id+"_content_tbody").on("mousemove",function(e){t.mouseMoveX=e.clientX,t.mouseMoveY=e.clientY,t.rowDragEle&&(t.mouseMoveX!=t.rowDragStartX||t.mouseMoveY!=t.rowDragStartY)&&t.options.canRowDrag&&(t.rowDragFlag=!0,t.rowDragFun(e)),e.stopPropagation()}),$("#"+this.options.id+"_content_tbody").on("mouseup",function(e){t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.rowDragEnd(e)})}),n=function(t,e){var i=this;this.options.canRowDrag&&(this.rowDragStartX=t.clientX,this.rowDragStartY=t.clientY,this.rowDragEle=e,$("#"+this.options.id+"_content_tbody").find("tr").each(function(t){if($(this).is(i.rowDragEle))return i.rowDragStartIndex=t,!1}))},s=function(t){var e=this;if(e.options.canRowDrag&&this.rowDragFlag){this.rowDragEndX=t.clientX,this.rowDragEndY=t.clientY;var i=(this.rowDragEndX-this.rowDragStartX,this.rowDragEndY-this.rowDragStartY),o=this.rowDragEle.clientHeight,n=parseInt(i/o);n<0?this.dragdirection=-1:this.dragdirection=1,this.rowDragEndIndex=this.rowDragStartIndex+n,this.rowDragEndIndex<0&&(this.rowDragEndIndex=0),this.rowDragEndIndex!=this.rowDragStartIndex&&($("#"+this.options.id+"_content_tbody").find("tr td").removeClass("u-grid-drag-icon"),$("#"+this.options.id+"_content_tbody").find("tr").eq(this.rowDragEndIndex).find("td").first().addClass("u-grid-drag-icon"))}},r=function(t){var e;this.options.canRowDrag&&(this.rowDragFlag&&this.rowDragEndIndex!=this.rowDragStartIndex&&(e=this.dataSourceObj.rows[this.rowDragStartIndex],$("#"+this.options.id+"_content_tbody").find("tr td").removeClass("u-grid-drag-icon"),this.dragdirection<0?($("#"+this.options.id+"_content_tbody").find("tr").eq(this.rowDragEndIndex).before(this.rowDragEle),this.dataSourceObj.rows.splice(this.rowDragStartIndex,1),this.dataSourceObj.rows.splice(this.rowDragEndIndex,0,e)):(this.dataSourceObj.rows.splice(this.rowDragStartIndex,1),this.rowDragEndIndex>=this.dataSourceObj.rows.length?($("#"+this.options.id+"_content_tbody").append(this.rowDragEle),this.dataSourceObj.rows.splice(this.rowDragEndIndex+1,0,e)):($("#"+this.options.id+"_content_tbody").find("tr").eq(this.rowDragEndIndex+1).before(this.rowDragEle),this.dataSourceObj.rows.splice(this.rowDragEndIndex,0,e)))),this.rowDragFlag=!1,this.rowDragEle=void 0)},d=function(t){this.options.canRowDrag=t};e.rowDrag_initGridEventFun=o,e.rowDragStart=n,e.rowDragFun=s,e.rowDragEnd=r,e.setRowDrag=d}]);